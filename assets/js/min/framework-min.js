window.magnum=function(){"use strict";var e,t,n,i,r={},o=[],a=document.getElementsByTagName("html")[0],s="viewport",c="(\\b|\\s)"+s+"\\-(small|medium|large)(\\-([0-9]|[1-9][0-9]|1[0-9][0-9]))?\\b",l=new RegExp(c,"g"),u=[{key:"small",val:315},{key:"small-10",val:450},{key:"small-20",val:600},{key:"medium",val:720},{key:"medium-10",val:765},{key:"medium-20",val:855},{key:"medium-30",val:960},{key:"medium-31",val:975},{key:"medium-40",val:1005},{key:"medium-50",val:1020},{key:"medium-60",val:1050},{key:"large",val:1080},{key:"large-10",val:1125},{key:"large-11",val:1155},{key:"large-20",val:1200},{key:"large-21",val:1215},{key:"large-30",val:1245},{key:"large-40",val:1280},{key:"large-41",val:1335},{key:"large-50",val:1375},{key:"large-51",val:1410},{key:"large-60",val:1607},{key:"large-70",val:1650},{key:"large-80",val:2030}],d=function(){var e;if(document.documentElement&&document.documentElement.clientWidth)e=function(){return document.documentElement.clientWidth};else if(window.self&&window.self.innerWidth)e=function(){return window.self.innerWidth};else{if(!document.body)return function(){return 0};e=function(){return document.body.clientWidth}}return e}(),f=function(){var e;if(document.documentElement&&document.documentElement.clientHeight)e=function(){return document.documentElement.clientHeight};else if(window.self&&window.self.innerHeight)e=function(){return window.self.innerHeight};else{if(!document.body)return function(){return 0};e=function(){return document.body.clientHeight}}return e}(),h=function(e){return function(){var t,n=r[e].callbacks;for(t=0;t<n.length;t+=1)n[t].apply({},arguments)}},p=function(e,t){r.hasOwnProperty(e)?r[e].callbacks.push(t):r[e]={callbacks:[t],trigger:h(e)}},m=function(){return i},g=function(){var e=i.match(/\d+/),t=e?e[0]:"00",n=i.match(/small|medium|large/)[0],r={small:1,medium:10,large:100};return parseInt(r[n]+""+t,10)},v=function(e){a.className=e},y=function(){return a.className},b=function(e){v(e+" "+y())},w=function(e,t){var n,i=y();n=i.replace(t,""),n+=" "+e.join(" "),v(n)},x=function(){var e=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i,n=e.test(navigator.userAgent);t=n?"mobile":"desktop",b(t)},E=function(){var e=navigator.userAgent.match(/Firefox/i);e&&b("moz")},k=function(){var e=document.location.search.match(/embedPosition=(\w+)/);e&&b("page-embedded-"+e[1])},C=function(){return n},_=function(){var e=new RegExp("(\\b|\\s)"+s+"\\-(portrait|landscape)\\b","g");n=s,n+=90===window.orientation||window.orientation===-90?"-landscape":"-portrait",w([n],e),r.orientationChange&&r.orientationChange.trigger(n,i)},N=function(){var t,n,o,a,c=d(),f=[];for(t=0,n=u.length;t<n&&(o=u[t],c>=o.val||o.key===u[0].key);++t)f.push(s+"-"+o.key);f.length!==e&&(w(f,l),e=f.length,i=f[e-1],a=g(),r.breakPoint&&r.breakPoint.trigger(a,i))},S=function(e){var t,n,i="";for(o=e||[],t=0,n=o.length;t<n;t+=1)i+=" flag-"+o[t]+"-on";b(i)},T=function(){var e=document.getElementById("magnum-feature-flags");e&&window.JSON&&S(window.JSON.parse(e.text))},B=function(){return o},M=function(e,n,i,r,a,s,c){var l,u,d,f,h,p,m,v=document.getElementById(s||""),y=g()<110,b=o.indexOf("removeInternationalEdition")>-1,w=document.cookie.indexOf("NYT-Edition=edition|GLOBAL")>=0&&!b,x="article"===c||"interactive"===c;r=r||"",p=r.indexOf("masthead-theme-transparent")>-1||r.indexOf("masthead-theme-transparent-ffffff")>-1,m=r.indexOf("masthead-theme-transparent-ffffff")>-1||"black"===a?"white-":"","large"===e?(u=w?"450":"370",d=w?"44":"50"):"magazine"===i?(u=y?"184":"260",d=y?"22":"23"):"t-magazine"===i&&x?(u=y?"184":"250",d=y?"22":"30"):w?(u=p?"240":"236",d=p?"30":"22"):(u=p?"163":"185",d=p?"30":"26"),f=n+(w?"international-logo-":"nyt-logo-")+m+u+"x"+d,h=n+(w?"international-logo-":"nyt-logo-")+u+"x"+d,"magazine"===i&&(f=n+"magazine-logo-"+m+u+"x"+d,h=n+"magazine-logo-"+u+"x"+d),"t-magazine"===i&&x&&(f=n+"t-magazine-logo-"+m+u+"x"+d,h=n+"t-magazine-logo-"+u+"x"+d),w&&"mobile"===t&&(u="184",d="26"),l='<svg class="nyt-logo" width="'+u+'" height="'+d+'" role="img" aria-label="The New York Times"><image width="'+u+'" height="'+d+'" xlink:href="'+f+'.svg" src="'+f+'.png" alt="The New York Times" border="0" /></svg><img src="'+h+'.png" class="nyt-logo-print" alt="The New York Times" />',v?v.innerHTML+=l:document.write(l)},A=function(e){var t,n;t=window.outerWidth?window.outerWidth:d(),t>e&&(e=t),n=document.createElement("meta"),n.setAttribute("name","viewport"),n.setAttribute("content","width="+e+", user-scalable=yes"),document.getElementsByTagName("head")[0].appendChild(n),N()},O=function(){var e,t,n=document.location.search.match(/viewportWidth=(\d+)/);n&&n[1]&&(e=+n[1]),e<=1050&&(t=document.createElement("meta"),t.setAttribute("name","viewport"),t.setAttribute("content","width="+e+", initial-scale=1, maximum-scale=1"),document.getElementsByTagName("head")[0].appendChild(t),N())},z=function(e){var t=o.indexOf("removeInternationalEdition")>-1,n="global"!==e||t?"edition-domestic":"edition-international";w([n],new RegExp("edition-[w]*","g"))},q=function(){return 0===y().length&&v(""),x(),E(),k(),N(),T(),window.onresize=N,"mobile"===t&&(_(),window.onorientationchange=_),{on:p,device:t,getWidth:d,getHeight:f,breakpoints:u,getViewport:m,getOrientation:C,getViewportInteger:g,getFlags:B,processFlags:S,writeLogo:M,addNonResponsiveViewportMeta:A,addViewportMetaFromUrlParam:O,addEditionClass:z}};return q()}(),window.magnum.responsiveImages=function(){"use strict";var e,t,n,i,r,o,a,s,c,l,u,d,f,h,p,m,g,v,y,b,w,x,E,k,C,_=window.magnum.getWidth(),N=window.magnum.getHeight(),S=_,T=780,B=1020,M=!1,A=!1,O=50,z=function(t){"full-bleed-cover"!==e||M?"vertical-full-bleed"===e?w>0?A||(t+=w+65):t+=80:t+=20:t+=w>0?w+65:80,l.style.marginTop=t+"px"},q=function(e){r&&(r.style.top=e+7+"px")},P=function(e,t){u.style.height=e+"px",q(t)},L=function(e){M=e},W=function(e){A=e},I=function(e,t){var n,i,r,o=d*p,a=S/p;return"horizontal"===t&&(r=o-S,i=(b-v)/100,i<=-.5&&(i=-.5),e+=r*i,e>=0&&(e=0)),"vertical"===t&&(r=a-d,n=(y-g)/100,n<=-.5&&(n=-.5),e+=r*n,e>=0&&(e=0)),e},j=function(){N=window.magnum.getHeight(),_=window.magnum.getWidth(),d=u.clientHeight,S=u.clientWidth,n=t.clientHeight,i=t.clientWidth,w=r?r.clientHeight:0},F=function(){var e,n,i;j(),e=d,n=d*p,i=-Math.abs((S-n)/2),i=I(i,"horizontal"),t.style.height=e+"px",t.style.width=n+"px",t.style.maxWidth="none",t.style.marginLeft=i+"px"},D=function(){var e,n=i/p;n>d&&(e=-Math.abs((n-d)/2),e=I(e,"vertical"),t.style.marginTop=e+"px")},R=function(){var e=_/p;P(e,e),z(a.clientHeight)},H=function(){var t,n;j(),t=f/h,n=d/S,t>n?D():t<n&&("full-bleed-lede"===e?R():F())},U=function(){var e,n,o=t.clientWidth,a=t.clientHeight;for(E.style.paddingTop="47px",j(),n=S,e=d;o>=n||a>=e;)o-=1*p,a-=1;t.style.width=o+"px",t.style.height=a+"px",r&&(r.style.width="auto",r.style.marginLeft="auto",j(),i!==r.clientWidth&&(r.style.width=i+"px",r.style.marginLeft=(S-i)/2+"px")),Q()},V=function(){j(),P(N,N),z(N),H()},G=function(){var e=window.magnum.getFlags(),t=e.indexOf("bleedMastheadColor")>-1;j(),P(N,N),"transparent"!==c.style.backgroundColor&&c.style.backgroundColor||(c.style.backgroundColor=x),Q(),t&&Y(),z(N),H()},Q=function(){"headline-image-topper"===e?k&&k.className.indexOf("masthead-headline-image-topper")===-1&&(k.className+=" masthead-headline-image-topper"):"vertical-full-bleed"===e&&k&&k.className.indexOf("masthead-vertical-fullbleed")===-1&&(k.className+=" masthead-vertical-fullbleed",document.getElementById("story").className.indexOf("bleed-align-left")!==-1&&(k.className+=" bleed-align-left"),C.className.indexOf("section-magazine")!==-1&&(k.className+=" masthead-magazine"),C.className.indexOf("section-t-magazine")!==-1&&(k.className+=" masthead-t-mag"))},Y=function(){var e=J(x);A?"transparent"!==k.style.backgroundColor&&k.style.backgroundColor||(k.style.backgroundColor=e):A||"transparent"===k.style.backgroundColor||(k.style.backgroundColor="transparent")},J=function(e){var t,n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;return e=e.replace(n,function(e,t,n,i){return t+t+n+n+i+i}),t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),"rgba("+[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),"0.4)"].join()},X=function(e,t){0===e&&(e=t/p),P(e+w,e),Q(),z(a.clientHeight)},K=function(){var e=N-s.clientHeight-w,t=e/n*100;t<O&&"landscape"===m&&(e=.01*O*n),P(e,e),z(a.clientHeight),H()},Z=function(){var t,i=window.magnum.getFlags(),r=i.indexOf("bleedMastheadColor")>-1;j(),t=n,S=_,c.style.backgroundColor="transparent","vertical-full-bleed"===e?(W(!0),X(t,S),r&&Y()):M?X(t,S):K()},ee=function(n,i,d,w,N,S,M,A,O){C=document.getElementsByTagName("html")[0],k=document.getElementById("masthead"),E=document.getElementById("shell"),u=document.getElementById("media-"+n),t=document.getElementById("media-image-"+n),r=document.getElementById("media-caption-"+n),o=document.getElementById("story"),a=document.getElementById("story-header"),s=document.getElementById("headline"),c=document.getElementById("story-meta"),l=document.getElementsByClassName("story-body-supplemental")[0],x=O,f=d,h=w,e=i,p=Math.min(h/f),g=N,v=A,y=M,b=S,m=f>h?"portrait":"landscape","full-bleed"===e||"full-bleed-cover"===e?_<T?(o.className=o.className.replace(/(?:^|\s)has-full-bleed-cover(?!\S)/g,""),o.className+=" has-full-bleed-image-lede",L(!0),Z()):"full-bleed"===e?Z():"full-bleed-cover"===e&&V():"headline-image-topper"===e?U():"vertical-full-bleed"===e&&(_<B&&C.className.indexOf("viewport-medium-50")===-1?(o.className=o.className.replace(/(?:^|\s)has-vertical-full-bleed(?!\S)/g,""),o.className+=" has-full-bleed-image-lede",W(!0),Z()):G())};return{coverToLedeBreakpoint:T,setBelowCoverToLedeBreakpoint:L,setBelowVerticalFullBleedBreakpoint:W,setCoverImage:ee,makeFullBleedCover:V,makeFullBleedLede:Z,makeVerticalFullBleed:G,makeHeadlineImageTopper:U,setStoryBodyTop:z}}(),window.Modernizr=function(e,t,n){function i(e){b.cssText=e}function r(e,t){return i(k.join(e+";")+(t||""))}function o(e,t){return typeof e===t}function a(e,t){return!!~(""+e).indexOf(t)}function s(e,t){for(var i in e){var r=e[i];if(!a(r,"-")&&b[r]!==n)return"pfx"!=t||r}return!1}function c(e,t,i){for(var r in e){var a=t[e[r]];if(a!==n)return i===!1?e[r]:o(a,"function")?a.bind(i||t):a}return!1}function l(e,t,n){var i=e.charAt(0).toUpperCase()+e.slice(1),r=(e+" "+_.join(i+" ")+i).split(" ");return o(t,"string")||o(t,"undefined")?s(r,t):(r=(e+" "+N.join(i+" ")+i).split(" "),c(r,t,n))}function u(){p.input=function(n){for(var i=0,r=n.length;i<r;i++)M[n[i]]=n[i]in w;return M.list&&(M.list=!!t.createElement("datalist")&&!!e.HTMLDataListElement),M}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),p.inputtypes=function(e){for(var i,r,o,a=0,s=e.length;a<s;a++)w.setAttribute("type",r=e[a]),i="text"!==w.type,i&&(w.value=x,w.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(r)&&w.style.WebkitAppearance!==n?(g.appendChild(w),o=t.defaultView,i=o.getComputedStyle&&"textfield"!==o.getComputedStyle(w,null).WebkitAppearance&&0!==w.offsetHeight,g.removeChild(w)):/^(search|tel)$/.test(r)||(i=/^(url|email)$/.test(r)?w.checkValidity&&w.checkValidity()===!1:w.value!=x)),B[e[a]]=!!i;return B}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d,f,h="2.8.3",p={},m=!0,g=t.documentElement,v="modernizr",y=t.createElement(v),b=y.style,w=t.createElement("input"),x=":)",E={}.toString,k=" -webkit- -moz- -o- -ms- ".split(" "),C="Webkit Moz O ms",_=C.split(" "),N=C.toLowerCase().split(" "),S={svg:"http://www.w3.org/2000/svg"},T={},B={},M={},A=[],O=A.slice,z=function(e,n,i,r){var o,a,s,c,l=t.createElement("div"),u=t.body,d=u||t.createElement("body");if(parseInt(i,10))for(;i--;)s=t.createElement("div"),s.id=r?r[i]:v+(i+1),l.appendChild(s);return o=["&#173;",'<style id="s',v,'">',e,"</style>"].join(""),l.id=v,(u?l:d).innerHTML+=o,d.appendChild(l),u||(d.style.background="",d.style.overflow="hidden",c=g.style.overflow,g.style.overflow="hidden",g.appendChild(d)),a=n(l,e),u?l.parentNode.removeChild(l):(d.parentNode.removeChild(d),g.style.overflow=c),!!a},q=function(){function e(e,r){r=r||t.createElement(i[e]||"div"),e="on"+e;var a=e in r;return a||(r.setAttribute||(r=t.createElement("div")),r.setAttribute&&r.removeAttribute&&(r.setAttribute(e,""),a=o(r[e],"function"),o(r[e],"undefined")||(r[e]=n),r.removeAttribute(e))),r=null,a}var i={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),P={}.hasOwnProperty;f=o(P,"undefined")||o(P.call,"undefined")?function(e,t){return t in e&&o(e.constructor.prototype[t],"undefined")}:function(e,t){return P.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=O.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=t.prototype;var o=new r,a=t.apply(o,n.concat(O.call(arguments)));return Object(a)===a?a:o}return t.apply(e,n.concat(O.call(arguments)))};return i}),T.flexbox=function(){return l("flexWrap")},T.flexboxlegacy=function(){return l("boxDirection")},T.canvas=function(){var e=t.createElement("canvas");return!!e.getContext&&!!e.getContext("2d")},T.canvastext=function(){return!!p.canvas&&!!o(t.createElement("canvas").getContext("2d").fillText,"function")},T.webgl=function(){return!!e.WebGLRenderingContext},T.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:z(["@media (",k.join("touch-enabled),("),v,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=9===e.offsetTop}),n},T.geolocation=function(){return"geolocation"in navigator},T.postmessage=function(){return!!e.postMessage},T.websqldatabase=function(){return!!e.openDatabase},T.indexedDB=function(){return!!l("indexedDB",e)},T.hashchange=function(){return q("hashchange",e)&&(t.documentMode===n||t.documentMode>7)},T.history=function(){return!!e.history&&!!history.pushState},T.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},T.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},T.rgba=function(){return i("background-color:rgba(150,255,150,.5)"),a(b.backgroundColor,"rgba")},T.hsla=function(){return i("background-color:hsla(120,40%,100%,.5)"),a(b.backgroundColor,"rgba")||a(b.backgroundColor,"hsla")},T.multiplebgs=function(){return i("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(b.background)},T.backgroundsize=function(){return l("backgroundSize")},T.borderimage=function(){return l("borderImage")},T.borderradius=function(){return l("borderRadius")},T.boxshadow=function(){return l("boxShadow")},T.textshadow=function(){return""===t.createElement("div").style.textShadow},T.opacity=function(){return r("opacity:.55"),/^0.55$/.test(b.opacity)},T.cssanimations=function(){return l("animationName")},T.csscolumns=function(){return l("columnCount")},T.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return i((e+"-webkit- ".split(" ").join(t+e)+k.join(n+e)).slice(0,-e.length)),a(b.backgroundImage,"gradient")},T.cssreflections=function(){return l("boxReflect")},T.csstransforms=function(){return!!l("transform")},T.csstransforms3d=function(){var e=!!l("perspective");return e&&"webkitPerspective"in g.style&&z("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t,n){e=9===t.offsetLeft&&3===t.offsetHeight}),e},T.csstransitions=function(){return l("transition")},T.fontface=function(){var e;return z('@font-face {font-family:"font";src:url("https://")}',function(n,i){var r=t.getElementById("smodernizr"),o=r.sheet||r.styleSheet,a=o?o.cssRules&&o.cssRules[0]?o.cssRules[0].cssText:o.cssText||"":"";e=/src/i.test(a)&&0===a.indexOf(i.split(" ")[0])}),e},T.generatedcontent=function(){var e;return z(["#",v,"{font:0/0 a}#",v,':after{content:"',x,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e},T.video=function(){var e=t.createElement("video"),n=!1;try{(n=!!e.canPlayType)&&(n=new Boolean(n),n.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(e){}return n},T.audio=function(){var e=t.createElement("audio"),n=!1;try{(n=!!e.canPlayType)&&(n=new Boolean(n),n.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(e){}return n},T.localstorage=function(){try{return localStorage.setItem(v,v),localStorage.removeItem(v),!0}catch(e){return!1}},T.sessionstorage=function(){try{return sessionStorage.setItem(v,v),sessionStorage.removeItem(v),!0}catch(e){return!1}},T.webworkers=function(){return!!e.Worker},T.applicationcache=function(){return!!e.applicationCache},T.svg=function(){return!!t.createElementNS&&!!t.createElementNS(S.svg,"svg").createSVGRect},T.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==S.svg},T.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(E.call(t.createElementNS(S.svg,"animate")))},T.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(E.call(t.createElementNS(S.svg,"clipPath")))};for(var L in T)f(T,L)&&(d=L.toLowerCase(),p[d]=T[L](),A.push((p[d]?"":"no-")+d));return p.input||u(),p.addTest=function(e,t){if("object"==typeof e)for(var i in e)f(e,i)&&p.addTest(i,e[i]);else{if(e=e.toLowerCase(),p[e]!==n)return p;t="function"==typeof t?t():t,"undefined"!=typeof m&&m&&(g.className+=" has-"+(t?"":"no-")+e),p[e]=t}return p},i(""),y=w=null,p._version=h,p._prefixes=k,p._domPrefixes=N,p._cssomPrefixes=_,p.hasEvent=q,p.testProp=function(e){return s([e])},p.testAllProps=l,p.testStyles=z,g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(m?" has-js has-"+A.join(" has-"):""),p}(this,this.document),function(e,t){function n(e,t){var n=e.createElement("p"),i=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var e=k.elements;return"string"==typeof e?e.split(" "):e}function r(e){var t=E[e[w]];return t||(t={},x++,e[w]=x,E[x]=t),t}function o(e,n,i){if(n||(n=t),m)return n.createElement(e);i||(i=r(n));var o;return o=i.cache[e]?i.cache[e].cloneNode():b.test(e)?(i.cache[e]=i.createElem(e)).cloneNode():i.createElem(e),!o.canHaveChildren||y.test(e)||o.tagUrn?o:i.frag.appendChild(o)}function a(e,n){if(e||(e=t),m)return e.createDocumentFragment();n=n||r(e);for(var o=n.frag.cloneNode(),a=0,s=i(),c=s.length;a<c;a++)o.createElement(s[a]);return o}function s(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return k.shivMethods?o(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/\w+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(k,t.frag)}function c(e){e||(e=t);var i=r(e);return k.shivCSS&&!p&&!i.hasCSS&&(i.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),m||s(e,i),e}function l(e){for(var t,n=e.getElementsByTagName("*"),r=n.length,o=RegExp("^(?:"+i().join("|")+")$","i"),a=[];r--;)t=n[r],o.test(t.nodeName)&&a.push(t.applyElement(u(t)));return a}function u(e){for(var t,n=e.attributes,i=n.length,r=e.ownerDocument.createElement(_+":"+e.nodeName);i--;)t=n[i],t.specified&&r.setAttribute(t.nodeName,t.nodeValue);return r.style.cssText=e.style.cssText,r}function d(e){for(var t,n=e.split("{"),r=n.length,o=RegExp("(^|[\\s,>+~])("+i().join("|")+")(?=[[\\s,>+~#.:]|$)","gi"),a="$1"+_+"\\:$2";r--;)t=n[r]=n[r].split("}"),t[t.length-1]=t[t.length-1].replace(o,a),n[r]=t.join("}");return n.join("{")}function f(e){for(var t=e.length;t--;)e[t].removeNode()}function h(e){function t(){clearTimeout(a._removeSheetTimer),i&&i.removeNode(!0),i=null}var i,o,a=r(e),s=e.namespaces,c=e.parentWindow;return!N||e.printShived?e:("undefined"==typeof s[_]&&s.add(_),c.attachEvent("onbeforeprint",function(){t();for(var r,a,s,c=e.styleSheets,u=[],f=c.length,h=Array(f);f--;)h[f]=c[f];for(;s=h.pop();)if(!s.disabled&&C.test(s.media)){try{r=s.imports,a=r.length}catch(e){a=0}for(f=0;f<a;f++)h.push(r[f]);try{u.push(s.cssText)}catch(e){}}u=d(u.reverse().join("")),o=l(e),i=n(e,u)}),c.attachEvent("onafterprint",function(){f(o),clearTimeout(a._removeSheetTimer),a._removeSheetTimer=setTimeout(t,500)}),e.printShived=!0,e)}var p,m,g="3.7.0",v=e.html5||{},y=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,b=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,w="_html5shiv",x=0,E={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",p="hidden"in e,m=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(e){p=!0,m=!0}}();var k={elements:v.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:g,shivCSS:v.shivCSS!==!1,supportsUnknownElements:m,shivMethods:v.shivMethods!==!1,type:"default",shivDocument:c,createElement:o,createDocumentFragment:a};e.html5=k,c(t);var C=/^$|\b(?:all|print)\b/,_="html5shiv",N=!m&&function(){var n=t.documentElement;return"undefined"!=typeof t.namespaces&&"undefined"!=typeof t.parentWindow&&"undefined"!=typeof n.applyElement&&"undefined"!=typeof n.removeNode&&"undefined"!=typeof e.attachEvent}();k.type+=" print",k.shivPrint=h,h(t)}(this,document),Modernizr.addTest("cors",!!(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest));var requirejs,require,define;!function(global){function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var n;for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1&&(!e[n]||!t(e[n],n,e));n-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,i){return t&&eachProp(t,function(t,r){!n&&hasProp(e,r)||(i&&"string"!=typeof t?(e[r]||(e[r]={}),mixin(e[r],t,n,i)):e[r]=t)}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,i){var r=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return r.requireType=e,r.requireModules=i,n&&(r.originalError=n),r}function newContext(e){function t(e){var t,n;for(t=0;e[t];t+=1)if(n=e[t],"."===n)e.splice(t,1),t-=1;else if(".."===n){if(1===t&&(".."===e[2]||".."===e[0]))break;t>0&&(e.splice(t-1,2),t-=2)}}function n(e,n,i){var r,o,a,s,c,l,u,d,f,h,p,m=n&&n.split("/"),g=m,v=k.map,y=v&&v["*"];if(e&&"."===e.charAt(0)&&(n?(g=getOwn(k.pkgs,n)?m=[n]:m.slice(0,m.length-1),e=g.concat(e.split("/")),t(e),o=getOwn(k.pkgs,r=e[0]),e=e.join("/"),o&&e===r+"/"+o.main&&(e=r)):0===e.indexOf("./")&&(e=e.substring(2))),i&&(m||y)&&v){for(s=e.split("/"),c=s.length;c>0;c-=1){if(u=s.slice(0,c).join("/"),m)for(l=m.length;l>0;l-=1)if(a=getOwn(v,m.slice(0,l).join("/")),a&&(a=getOwn(a,u))){d=a,f=c;break}if(d)break;!h&&y&&getOwn(y,u)&&(h=getOwn(y,u),p=c)}!d&&h&&(d=h,f=p),d&&(s.splice(0,f,d),e=s.join("/"))}return e}function i(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===w.contextName)return t.parentNode.removeChild(t),!0})}function r(e){var t=getOwn(k.paths,e);if(t&&isArray(t)&&t.length>1)return i(e),t.shift(),w.require.undef(e),w.require([e]),!0}function o(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function a(e,t,i,r){var a,s,c,l,u=null,d=t?t.name:null,f=e,h=!0,p="";return e||(h=!1,e="_@r"+(B+=1)),l=o(e),u=l[0],e=l[1],u&&(u=n(u,d,r),s=getOwn(S,u)),e&&(u?p=s&&s.normalize?s.normalize(e,function(e){return n(e,d,r)}):n(e,d,r):(p=n(e,d,r),l=o(p),u=l[0],p=l[1],i=!0,a=w.nameToUrl(p))),c=!u||s||i?"":"_unnormalized"+(M+=1),{prefix:u,name:p,parentMap:t,unnormalized:!!c,url:a,originalName:f,isDefine:h,id:(u?u+"!"+p:p)+c}}function s(e){var t=e.id,n=getOwn(C,t);return n||(n=C[t]=new w.Module(e)),n}function c(e,t,n){var i=e.id,r=getOwn(C,i);!hasProp(S,i)||r&&!r.defineEmitComplete?s(e).on(t,n):"defined"===t&&n(S[i])}function l(e,t){var n=e.requireModules,i=!1;t?t(e):(each(n,function(t){var n=getOwn(C,t);n&&(n.error=e,n.events.error&&(i=!0,n.emit("error",e)))}),i||req.onError(e))}function u(){globalDefQueue.length&&(apsp.apply(N,[N.length-1,0].concat(globalDefQueue)),globalDefQueue=[])}function d(e){delete C[e]}function f(e,t,n){var i=e.map.id;e.error?e.emit("error",e.error):(t[i]=!0,each(e.depMaps,function(i,r){var o=i.id,a=getOwn(C,o);!a||e.depMatched[r]||n[o]||(getOwn(t,o)?(e.defineDep(r,S[o]),e.check()):f(a,t,n))}),n[i]=!0)}function h(){var e,t,n,o,a=1e3*k.waitSeconds,s=a&&w.startTime+a<(new Date).getTime(),c=[],u=[],d=!1,p=!0;if(!y){if(y=!0,eachProp(C,function(n){if(e=n.map,t=e.id,n.enabled&&(e.isDefine||u.push(n),!n.error))if(!n.inited&&s)r(t)?(o=!0,d=!0):(c.push(t),i(t));else if(!n.inited&&n.fetched&&e.isDefine&&(d=!0,!e.prefix))return p=!1}),s&&c.length)return n=makeError("timeout","Load timeout for modules: "+c,null,c),n.contextName=w.contextName,l(n);p&&each(u,function(e){f(e,{},{})}),s&&!o||!d||!isBrowser&&!isWebWorker||E||(E=setTimeout(function(){E=0,h()},50)),y=!1}}function p(e){hasProp(S,e[0])||s(a(e[0],null,!0)).init(e[1],e[2])}function m(e,t,n,i){e.detachEvent&&!isOpera?i&&e.detachEvent(i,t):e.removeEventListener(n,t,!1)}function g(e){var t=e.currentTarget||e.srcElement;return m(t,w.onScriptLoad,"load","onreadystatechange"),m(t,w.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function v(){var e;for(u();N.length;){if(e=N.shift(),null===e[0])return l(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));p(e)}}var y,b,w,x,E,k={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},map:{},config:{}},C={},_={},N=[],S={},T={},B=1,M=1;return x={require:function(e){return e.require?e.require:e.require=w.makeRequire(e.map)},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?e.exports:e.exports=S[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return k.config&&getOwn(k.config,e.map.id)||{}},exports:S[e.map.id]}}},b=function(e){this.events=getOwn(_,e.id)||{},this.map=e,this.shim=getOwn(k.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},b.prototype={init:function(e,t,n,i){i=i||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=i.ignore,i.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,w.startTime=(new Date).getTime();var e=this.map;return this.shim?void w.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;T[e]||(T[e]=!0,w.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id,i=this.depExports,r=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error)try{r=w.execCb(n,o,i,r)}catch(t){e=t}else r=w.execCb(n,o,i,r);if(this.map.isDefine&&(t=this.module,t&&void 0!==t.exports&&t.exports!==this.exports?r=t.exports:void 0===r&&this.usingExports&&(r=this.exports)),e)return e.requireMap=this.map,e.requireModules=[this.map.id],e.requireType="define",l(this.error=e)}else r=o;this.exports=r,this.map.isDefine&&!this.ignore&&(S[n]=r,req.onResourceLoad&&req.onResourceLoad(w,this.map,this.depMaps)),delete C[n],this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,i=a(e.prefix);this.depMaps.push(i),c(i,"defined",bind(this,function(i){var r,o,u,f=this.map.name,h=this.map.parentMap?this.map.parentMap.name:null,p=w.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(i.normalize&&(f=i.normalize(f,function(e){return n(e,h,!0)})||""),o=a(e.prefix+"!"+f,this.map.parentMap),c(o,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),u=getOwn(C,o.id),void(u&&(this.depMaps.push(o),this.events.error&&u.on("error",bind(this,function(e){this.emit("error",e)})),u.enable()))):(r=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),r.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(C,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&d(e.map.id)}),l(e)}),r.fromText=bind(this,function(n,i){var o=e.name,c=a(o),u=useInteractive;i&&(n=i),u&&(useInteractive=!1),s(c),hasProp(k.config,t)&&(k.config[o]=k.config[t]);try{req.exec(n)}catch(e){return l(makeError("fromtexteval","fromText eval for "+t+" failed: "+e,e,[t]))}u&&(useInteractive=!0),this.depMaps.push(c),w.completeLoad(o),p([o],r)}),void i.load(e.name,p,r,k))})),w.enable(i,this),this.pluginMaps[i.id]=i},enable:function(){this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,i,r;if("string"==typeof e){if(e=a(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,r=getOwn(x,e.id))return void(this.depExports[t]=r(this));this.depCount+=1,c(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),this.errback&&c(e,"error",this.errback)}n=e.id,i=C[n],hasProp(x,n)||!i||i.enabled||w.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(C,e.id);t&&!t.enabled&&w.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},w={config:k,contextName:e,registry:C,defined:S,urlFetched:T,defQueue:N,Module:b,makeModuleMap:a,nextTick:req.nextTick,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=k.pkgs,n=k.shim,i={paths:!0,config:!0,map:!0};eachProp(e,function(e,t){i[t]?"map"===t?mixin(k[t],e,!0,!0):mixin(k[t],e,!0):k[t]=e}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=w.makeShimExports(e)),n[t]=e}),k.shim=n),e.packages&&(each(e.packages,function(e){var n;e="string"==typeof e?{name:e}:e,n=e.location,t[e.name]={name:e.name,location:n||e.name,main:(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}}),k.pkgs=t),eachProp(C,function(e,t){e.inited||e.map.unnormalized||(e.map=a(t))}),(e.deps||e.callback)&&w.require(e.deps||[],e.callback)},makeShimExports:function(e){
function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,i){function r(n,o,c){var u,d,f;return i.enableBuildCallback&&o&&isFunction(o)&&(o.__requireJsBuild=!0),"string"==typeof n?isFunction(o)?l(makeError("requireargs","Invalid require call"),c):t&&hasProp(x,n)?x[n](C[t.id]):req.get?req.get(w,n,t):(d=a(n,t,!1,!0),u=d.id,hasProp(S,u)?S[u]:l(makeError("notloaded",'Module name "'+u+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(v(),w.nextTick(function(){v(),f=s(a(null,t)),f.skipMap=i.skipMap,f.init(n,o,c,{enabled:!0}),h()}),r)}return i=i||{},mixin(r,{isBrowser:isBrowser,toUrl:function(e){var i,r,o=e.lastIndexOf("."),a=e.split("/")[0],s="."===a||".."===a;return o!==-1&&(!s||o>1)&&(i=e.substring(o,e.length),e=e.substring(0,o)),r=w.nameToUrl(n(e,t&&t.id,!0),i||".fake"),i?r:r.substring(0,r.length-5)},defined:function(e){return hasProp(S,a(e,t,!1,!0).id)},specified:function(e){return e=a(e,t,!1,!0).id,hasProp(S,e)||hasProp(C,e)}}),t||(r.undef=function(e){u();var n=a(e,t,!0),i=getOwn(C,e);delete S[e],delete T[n.url],delete _[e],i&&(i.events.defined&&(_[e]=i.events),d(e))}),r},enable:function(e){var t=getOwn(C,e.id);t&&s(e).enable()},completeLoad:function(e){var t,n,i,o=getOwn(k.shim,e)||{},a=o.exports;for(u();N.length;){if(n=N.shift(),null===n[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);p(n)}if(i=getOwn(C,e),!t&&!hasProp(S,e)&&i&&!i.inited){if(!(!k.enforceDefine||a&&getGlobal(a)))return r(e)?void 0:l(makeError("nodefine","No define call for "+e,null,[e]));p([e,o.deps||[],o.exportsFn])}h()},nameToUrl:function(e,t){var n,i,r,o,a,s,c,l,u;if(req.jsExtRegExp.test(e))l=e+(t||"");else{for(n=k.paths,i=k.pkgs,a=e.split("/"),s=a.length;s>0;s-=1){if(c=a.slice(0,s).join("/"),r=getOwn(i,c),u=getOwn(n,c)){isArray(u)&&(u=u[0]),a.splice(0,s,u);break}if(r){o=e===r.name?r.location+"/"+r.main:r.location,a.splice(0,s,o);break}}l=a.join("/"),l+=t||(/\?/.test(l)?"":".js"),l=("/"===l.charAt(0)||l.match(/^[\w\+\.\-]+:/)?"":k.baseUrl)+l}return k.urlArgs?l+((l.indexOf("?")===-1?"?":"&")+k.urlArgs):l},load:function(e,t){req.load(w,e,t)},execCb:function(e,t,n,i){return t.apply(i,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=g(e);w.completeLoad(t.id)}},onScriptError:function(e){var t=g(e);if(!r(t.id))return l(makeError("scripterror","Script error",e,[t.id]))}},w.require=w.makeRequire(),w}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){if("interactive"===e.readyState)return interactiveScript=e}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.4",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||!navigator||!document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,i){var r,o,a=defContextName;return isArray(e)||"string"==typeof e||(o=e,isArray(t)?(e=t,t=n,n=i):e=[]),o&&o.context&&(a=o.context),r=getOwn(contexts,a),r||(r=contexts[a]=req.s.newContext(a)),o&&r.configure(o),r.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=function(e){throw e},req.load=function(e,t,n){var i,r=e&&e.config||{};return isBrowser?(i=r.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),i.type=r.scriptType||"text/javascript",i.charset="utf-8",i.async=!0,i.setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),!i.attachEvent||i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0||isOpera?(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)),i.src=n,currentlyAddingScript=i,baseElement?head.insertBefore(i,baseElement):head.appendChild(i),currentlyAddingScript=null,i):void(isWebWorker&&(importScripts(n),e.completeLoad(t)))},isBrowser&&eachReverse(scripts(),function(e){if(head||(head=e.parentNode),dataMain=e.getAttribute("data-main"))return cfg.baseUrl||(src=dataMain.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath,dataMain=mainScript),dataMain=dataMain.replace(jsSuffixRegExp,""),cfg.deps=cfg.deps?cfg.deps.concat(dataMain):[dataMain],!0}),define=function(e,t,n){var i,r;"string"!=typeof e&&(n=t,t=e,e=null),isArray(t)||(n=t,t=[]),!t.length&&isFunction(n)&&n.length&&(n.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t)),useInteractive&&(i=currentlyAddingScript||getInteractiveScript(),i&&(e||(e=i.getAttribute("data-requiremodule")),r=contexts[i.getAttribute("data-requirecontext")])),(r?r.defQueue:globalDefQueue).push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),function(){"use strict";function e(e){var t,n=N;e:{t=n.className.split(/\s+/);for(var i=0,r=t.length;i<r;i+=1)if(t[i]===e){t=!0;break e}t=!1}t||(n.className+=(""===n.className?"":" ")+e)}function t(e,t,n){this.b=null!=e?e:null,this.c=null!=t?t:null,this.g=null!=n?n:null}function n(e,t){return 0===e.compare(t)||1===e.compare(t)}function i(){var e=a.exec(h[1]),n=null,i=null,r=null;return e&&(null!==e[1]&&e[1]&&(n=parseInt(e[1],10)),null!==e[2]&&e[2]&&(i=parseInt(e[2],10)),null!==e[3]&&e[3]&&(r=parseInt(e[3],10))),new t(n,i,r)}function r(){var e=s;return 3===e.a||7===e.a||6===e.a||9===e.a||8===e.a||5===e.a?"grayscale":1===e.a&&n(e.d,new t(6,2))&&1===e.e?"grayscale":"unknown"}var o=window,a=/^([0-9]+)(?:[\._-]([0-9]+))?(?:[\._-]([0-9]+))?(?:[\._+-]?(.*))?$/;t.prototype.compare=function(e){return this.b>e.b||this.b===e.b&&this.c>e.c||this.b===e.b&&this.c===e.c&&this.g>e.g?1:this.b<e.b||this.b===e.b&&this.c<e.c||this.b===e.b&&this.c===e.c&&this.g<e.g?-1:0};var s,c=o.navigator.userAgent,l=0,u=new t,d=0,f=new t,h=null;(h=/(?:iPod|iPad|iPhone).*? OS ([\d_]+)/.exec(c))?(d=3,f=i()):(h=/(?:BB\d{2}|BlackBerry).*?Version\/([^\s]*)/.exec(c))?(d=9,f=i()):(h=/Android ([^;)]+)|Android/.exec(c))?(d=5,f=i()):(h=/Windows Phone(?: OS)? ([^;)]+)/.exec(c))?(d=8,f=i()):(h=/Linux ([^;)]+)|Linux/.exec(c))?(d=4,f=i()):(h=/OS X ([^;)]+)/.exec(c))?(d=2,f=i()):(h=/Windows NT ([^;)]+)/.exec(c))?(d=1,f=i()):(h=/CrOS ([^;)]+)/.exec(c))&&(d=6,f=i()),(h=/MSIE ([\d\w\.]+)/.exec(c))?(l=1,u=i()):(h=/Trident.*rv:([\d\w\.]+)/.exec(c))?(l=1,u=i()):(h=/OPR\/([\d.]+)/.exec(c))?(l=4,u=i()):(h=/Opera Mini.*Version\/([\d\.]+)/.exec(c))?(l=4,u=i()):(h=/Opera(?: |.*Version\/|\/)([\d\.]+)/.exec(c))?(l=4,u=i()):(h=/Firefox\/([\d\w\.]+)|Firefox/.exec(c))?(l=3,u=i()):(h=/(?:Chrome|CrMo|CriOS)\/([\d\.]+)/.exec(c))?(l=2,u=i()):(h=/Silk\/([\d\._]+)/.exec(c))?(l=7,u=i()):5===d||9===d?l=6:(h=/Version\/([\d\.\w]+).*Safari/.exec(c))&&(l=5,u=i()),s=new function(e,t,n,i){this.e=e,this.f=t,this.a=n,this.d=i}(l,u,d,f);var p,m;if(1===s.a){var g;if(2===s.e)g=n(s.f,new t(37))&&n(s.d,new t(6,1))?"directwrite":"gdi";else{var v;if(4===s.e)v=n(s.f,new t(24))&&n(s.d,new t(6,1))?"directwrite":"gdi";else{var y;if(-1===s.d.compare(new t(6,0)))y="gdi";else{var b;if(n(s.d,new t(6,0))){var w;if(w=1===s.e){var x=s.f,E=new t(8,0);w=0===x.compare(E)||-1===x.compare(E)}b=w?"gdi":"directwrite"}else b="unknown";y=b}v=y}g=v}m=g}else m=8===s.a?"directwrite":2===s.a||3===s.a?"coretext":5===s.a||4===s.a||6===s.a||7===s.a||9===s.a?"freetype":"unknown";p=m;var k,C=r(),_=r();k="unknown"!==_?_:2===s.a||4===s.a?"subpixel":1===s.a?n(s.d,new t(6,0))?"subpixel":1===s.e?n(s.f,new t(7,0))?"subpixel":"grayscale":"subpixel":"unknown";var N=o.document.documentElement;e("tr-"+p),"unknown"===C&&"unknown"!==k&&(C+="-"+k),e("tr-aa-"+C)}(),function(e){var t=function(t){this._options={checkOnLoad:!1,resetOnEnd:!1,loopCheckTime:50,loopMaxNumber:5,baitClass:"pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links",baitStyle:"width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;",debug:!1},this._var={version:"3.2.0",bait:null,checking:!1,loop:null,loopNumber:0,event:{detected:[],notDetected:[]}},void 0!==t&&this.setOption(t);var n=this,i=function(){setTimeout(function(){n._options.checkOnLoad===!0&&(n._options.debug===!0&&n._log("onload->eventCallback","A check loading is launched"),null===n._var.bait&&n._creatBait(),setTimeout(function(){n.check()},1))},1)};void 0!==e.addEventListener?e.addEventListener("load",i,!1):e.attachEvent("onload",i)};t.prototype._options=null,t.prototype._var=null,t.prototype._bait=null,t.prototype._log=function(e,t){console.log("[BlockAdBlock]["+e+"] "+t)},t.prototype.setOption=function(e,t){if(void 0!==t){var n=e;e={},e[n]=t}for(var i in e)this._options[i]=e[i],this._options.debug===!0&&this._log("setOption",'The option "'+i+'" he was assigned to "'+e[i]+'"');return this},t.prototype._creatBait=function(){var t=document.createElement("div");t.setAttribute("class",this._options.baitClass),t.setAttribute("style",this._options.baitStyle),this._var.bait=e.document.body.appendChild(t),this._var.bait.offsetParent,this._var.bait.offsetHeight,this._var.bait.offsetLeft,this._var.bait.offsetTop,this._var.bait.offsetWidth,this._var.bait.clientHeight,this._var.bait.clientWidth,this._options.debug===!0&&this._log("_creatBait","Bait has been created")},t.prototype._destroyBait=function(){e.document.body.removeChild(this._var.bait),this._var.bait=null,this._options.debug===!0&&this._log("_destroyBait","Bait has been removed")},t.prototype.check=function(e){if(void 0===e&&(e=!0),this._options.debug===!0&&this._log("check","An audit was requested "+(e===!0?"with a":"without")+" loop"),this._var.checking===!0)return this._options.debug===!0&&this._log("check","A check was canceled because there is already an ongoing"),!1;this._var.checking=!0,null===this._var.bait&&this._creatBait();var t=this;return this._var.loopNumber=0,e===!0&&(this._var.loop=setInterval(function(){t._checkBait(e)},this._options.loopCheckTime)),setTimeout(function(){t._checkBait(e)},1),this._options.debug===!0&&this._log("check","A check is in progress ..."),!0},t.prototype._checkBait=function(t){var n=!1;if(null===this._var.bait&&this._creatBait(),null===e.document.body.getAttribute("abp")&&null!==this._var.bait.offsetParent&&0!=this._var.bait.offsetHeight&&0!=this._var.bait.offsetLeft&&0!=this._var.bait.offsetTop&&0!=this._var.bait.offsetWidth&&0!=this._var.bait.clientHeight&&0!=this._var.bait.clientWidth||(n=!0),void 0!==e.getComputedStyle){var i=e.getComputedStyle(this._var.bait,null);"none"!=i.getPropertyValue("display")&&"hidden"!=i.getPropertyValue("visibility")||(n=!0)}this._options.debug===!0&&this._log("_checkBait","A check ("+(this._var.loopNumber+1)+"/"+this._options.loopMaxNumber+" ~"+(1+this._var.loopNumber*this._options.loopCheckTime)+"ms) was conducted and detection is "+(n===!0?"positive":"negative")),t===!0&&(this._var.loopNumber++,this._var.loopNumber>=this._options.loopMaxNumber&&this._stopLoop()),n===!0?(this._stopLoop(),this._destroyBait(),this.emitEvent(!0),t===!0&&(this._var.checking=!1)):null!==this._var.loop&&t!==!1||(this._destroyBait(),this.emitEvent(!1),t===!0&&(this._var.checking=!1))},t.prototype._stopLoop=function(e){clearInterval(this._var.loop),this._var.loop=null,this._var.loopNumber=0,this._options.debug===!0&&this._log("_stopLoop","A loop has been stopped")},t.prototype.emitEvent=function(e){this._options.debug===!0&&this._log("emitEvent","An event with a "+(e===!0?"positive":"negative")+" detection was called");var t=this._var.event[e===!0?"detected":"notDetected"];for(var n in t)this._options.debug===!0&&this._log("emitEvent","Call function "+(parseInt(n)+1)+"/"+t.length),t.hasOwnProperty(n)&&t[n]();return this._options.resetOnEnd===!0&&this.clearEvent(),this},t.prototype.clearEvent=function(){this._var.event.detected=[],this._var.event.notDetected=[],this._options.debug===!0&&this._log("clearEvent","The event list has been cleared")},t.prototype.on=function(e,t){return this._var.event[e===!0?"detected":"notDetected"].push(t),this._options.debug===!0&&this._log("on",'A type of event "'+(e===!0?"detected":"notDetected")+'" was added'),this},t.prototype.onDetected=function(e){return this.on(!0,e)},t.prototype.onNotDetected=function(e){return this.on(!1,e)},e.BlockAdBlock=t,void 0===e.blockAdBlock&&(e.blockAdBlock=new t({checkOnLoad:!1,resetOnEnd:!0}))}(window),function(){"use strict";function e(e){d.push(e),1==d.length&&u()}function t(){for(;d.length;)d[0](),d.shift()}function n(e){this.a=f,this.b=void 0,this.f=[];var t=this;try{e(function(e){o(t,e)},function(e){a(t,e)})}catch(e){a(t,e)}}function i(e){return new n(function(t,n){n(e)})}function r(e){return new n(function(t){t(e)})}function o(e,t){if(e.a==f){if(t==e)throw new TypeError;var n=!1;try{var i=t&&t.then;if(null!=t&&"object"==typeof t&&"function"==typeof i)return void i.call(t,function(t){n||o(e,t),n=!0},function(t){n||a(e,t),n=!0})}catch(t){return void(n||a(e,t))}e.a=0,e.b=t,s(e)}}function a(e,t){if(e.a==f){if(t==e)throw new TypeError;e.a=1,e.b=t,s(e)}}function s(t){e(function(){if(t.a!=f)for(;t.f.length;){var e=t.f.shift(),n=e[0],i=e[1],r=e[2],e=e[3];try{0==t.a?r("function"==typeof n?n.call(void 0,t.b):t.b):1==t.a&&("function"==typeof i?r(i.call(void 0,t.b)):e(t.b))}catch(t){e(t)}}})}function c(e){return new n(function(t,n){function i(n){return function(i){a[n]=i,o+=1,o==e.length&&t(a)}}var o=0,a=[];0==e.length&&t(a);for(var s=0;s<e.length;s+=1)r(e[s]).c(i(s),n)})}function l(e){return new n(function(t,n){for(var i=0;i<e.length;i+=1)r(e[i]).c(t,n)})}var u,d=[];u=function(){setTimeout(t)};var f=2;n.prototype.g=function(e){return this.c(void 0,e)},n.prototype.c=function(e,t){var i=this;return new n(function(n,r){i.f.push([e,t,n,r]),s(i)})},window.Promise||(window.Promise=n,window.Promise.resolve=r,window.Promise.reject=i,window.Promise.race=l,window.Promise.all=c,window.Promise.prototype.then=n.prototype.c,window.Promise.prototype.catch=n.prototype.g)}(),function(){function e(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function t(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t),e()}):document.attachEvent("onreadystatechange",function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())})}function n(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function i(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;left:-999px;white-space:nowrap;font:"+t+";"}function r(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function o(t,n){function i(){var e=o;r(e)&&null!==e.a.parentNode&&n(e.g)}var o=t;e(t.b,i),e(t.c,i),r(t)}function a(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}function s(){if(null===u){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}u=""!==e.style.font}return u}function c(e,t){return[e.style,e.weight,s()?e.stretch:"","100px",t].join(" ")}var l=null,u=null,d=null;a.prototype.load=function(e,r){var a=this,s=e||"BESbswy",u=0,f=r||3e3,h=(new Date).getTime();return new Promise(function(e,r){if(null===d&&(d=!!document.fonts),d){var p=new Promise(function(e,t){function n(){(new Date).getTime()-h>=f?t():document.fonts.load(c(a,'"'+a.family+'"'),s).then(function(t){1<=t.length?e():setTimeout(n,25)},function(){t()})}n()}),m=new Promise(function(e,t){u=setTimeout(t,f)});Promise.race([m,p]).then(function(){clearTimeout(u),e(a)},function(){r(a)})}else t(function(){function t(){var t;(t=-1!=v&&-1!=y||-1!=v&&-1!=b||-1!=y&&-1!=b)&&((t=v!=y&&v!=b&&y!=b)||(null===l&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),l=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=l&&(v==w&&y==w&&b==w||v==x&&y==x&&b==x||v==E&&y==E&&b==E)),t=!t),t&&(null!==k.parentNode&&k.parentNode.removeChild(k),clearTimeout(u),e(a))}function d(){if((new Date).getTime()-h>=f)null!==k.parentNode&&k.parentNode.removeChild(k),r(a);else{var e=document.hidden;!0!==e&&void 0!==e||(v=p.a.offsetWidth,y=m.a.offsetWidth,b=g.a.offsetWidth,t()),u=setTimeout(d,50)}}var p=new n(s),m=new n(s),g=new n(s),v=-1,y=-1,b=-1,w=-1,x=-1,E=-1,k=document.createElement("div");k.dir="ltr",i(p,c(a,"sans-serif")),i(m,c(a,"serif")),i(g,c(a,"monospace")),k.appendChild(p.a),k.appendChild(m.a),k.appendChild(g.a),document.body.appendChild(k),w=p.a.offsetWidth,x=m.a.offsetWidth,E=g.a.offsetWidth,d(),o(p,function(e){v=e,t()}),i(p,c(a,'"'+a.family+'",sans-serif')),o(m,function(e){y=e,t()}),i(m,c(a,'"'+a.family+'",serif')),o(g,function(e){b=e,t()}),i(g,c(a,'"'+a.family+'",monospace'))})})},"undefined"!=typeof module?module.exports=a:(window.FontFaceObserver=a,window.FontFaceObserver.prototype.load=a.prototype.load)}(),function(){"use strict";var e=document.getElementById("page-config-data"),t=e?JSON.parse(e.innerHTML).pageconfig:{},n=t.ledeMediaSize,i=Math.random()<.5?"a":"b",r=document.getElementsByTagName("html")[0],o=document.getElementById("article-tone"),a=o?o.getAttribute("content"):"",s=window.magnum.getFlags(),c=s.indexOf("onlyLayoutA")>-1;s.indexOf("simple")>-1&&document.location.pathname.match(/\/story\//)?r.setAttribute("data-page-layout","a"):("none"!==n&&"small"!==n||(i="a"),"jumbo"===n&&(i="b"),"informal"===a&&(i="a"),c&&(i="a"),"none"!==n&&"small"!==n&&("large"!==n&&"jumbo"!==n||"a"!==i)||(r.className+=" has-big-ad"),r.setAttribute("data-page-layout",i)),r.setAttribute("data-lede-media-size",n),r.setAttribute("data-keywords",t.keywords)}(),window.magnum.getFlags().indexOf("headlineBalancer")>0&&(window.magnum.headlineBalancer=function(){function e(){document.getElementById("headline").style.visibility="hidden",r()&&t(),document.getElementById("headline").style.visibility="visible"}function t(){var e=document.getElementById("headline");e.style.maxWidth="",n(e,e.clientHeight,0,e.clientWidth)}function n(e,t,i,r){var o;return i>=r?void(e.style.maxWidth=r+"px"):(o=(i+r)/2,e.style.maxWidth=o+"px",void(e.clientHeight>t?n(e,t,o+1,r):n(e,t,i+1,o)))}function i(e){return document.documentElement.className.indexOf(e)>0}function r(){var e,t,n,i,r,o,a;return o=document.getElementById("headline"),a=o.innerHTML,n=10,i=o.innerHTML.split(" "),r=document.createElement("span"),r.id="headline-first-word",r.innerHTML=i[0],i=i.slice(1),o.innerHTML="",o.appendChild(r),o.innerHTML+=" "+i.join(" "),r=document.getElementById("headline-first-word"),e=r.offsetHeight,t=o.offsetHeight,o.innerHTML=a,t-n>e}function o(){var e;return window.magnum.getFlags().indexOf("headlineBalancerEverywhere")>0||(e=document.querySelector('meta[property="article:top-level-section"]'),!(!e||"world"!==e.getAttribute("content"))||i("section-us")||i("section-politics")||i("section-world"))}function a(){var e,t=document.getElementById("story").className,n=document.querySelector('meta[name="PT"]'),i=["has-headline-image-topper","has-vertical-full-bleed","has-full-bleed-image-lede","has-full-bleed-cover"];if(n&&"oak"===n.getAttribute("content"))return!1;for(e=0;e<i.length;e+=1)if(t&&t.indexOf(i[e])>0)return!1;return!0}function s(){return o()&&a()}var c,l={news:{fontName:"nyt-cheltenham",fontStyle:"italic",fontWeight:700},opinion:{fontName:"nyt-cheltenham",fontStyle:"normal",fontWeight:500},feature:{fontName:"nyt-cheltenham",fontStyle:"normal",fontWeight:200},magazine:{fontName:"nyt-mag-slab",fontStyle:"normal",fontWeight:"bold"},tMagFeature:{fontName:"schnyder-scond-normal-600",fontStyle:"normal",fontWeight:600},tMagNews:{fontName:"graphik-xcond-normal-600",fontStyle:"normal",fontWeight:600},upshot:{fontName:"nyt-franklin",fontStyle:"normal",fontWeight:300},informal:{fontName:"nyt-cheltenham",fontStyle:"normal",fontWeight:700}},u=function(){var e,n;document.getElementById("headline").style.visibility="hidden",c=i("section-magazine")?"magazine":i("section-upshot")?"upshot":i("section-t-magazine")&&i("tone-feature")?"tMagFeature":i("section-t-magazine")&&i("tone-news")?"tMagNews":i("tone-news")?"news":i("tone-opinion")?"opinion":i("tone-feature")?"feature":"news",e=l[c],n=new window.FontFaceObserver(e.fontName,{style:e.fontStyle,weight:e.fontWeight}),n.load().then(function(){r()&&t(),document.getElementById("headline").style.visibility="visible"},function(){document.getElementById("headline").style.visibility="visible"})};return{initialize:u,rebalanceHeadline:e,shouldRun:s}}()),!function(e,t){var n=t(e,e.document);e.lazySizes=n,"object"==typeof module&&module.exports&&(module.exports=n)}(window,function(e,t){"use strict";if(t.getElementsByClassName){var n,i=t.documentElement,r=e.Date,o=e.HTMLPictureElement,a="addEventListener",s="getAttribute",c=e[a],l=e.setTimeout,u=e.requestAnimationFrame||l,d=e.requestIdleCallback,f=/^picture$/i,h=["load","error","lazyincluded","_lazyloaded"],p={},m=Array.prototype.forEach,g=function(e,t){return p[t]||(p[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),p[t].test(e[s]("class")||"")&&p[t]},v=function(e,t){g(e,t)||e.setAttribute("class",(e[s]("class")||"").trim()+" "+t)},y=function(e,t){var n;(n=g(e,t))&&e.setAttribute("class",(e[s]("class")||"").replace(n," "))},b=function(e,t,n){var i=n?a:"removeEventListener";n&&b(e,t),h.forEach(function(n){e[i](n,t)})},w=function(e,n,i,r,o){var a=t.createEvent("CustomEvent");return a.initCustomEvent(n,!r,!o,i||{}),e.dispatchEvent(a),a},x=function(t,i){var r;!o&&(r=e.picturefill||n.pf)?r({reevaluate:!0,elements:[t]}):i&&i.src&&(t.src=i.src)},E=function(e,t){return(getComputedStyle(e,null)||{})[t]},k=function(e,t,i){for(i=i||e.offsetWidth;i<n.minSize&&t&&!e._lazysizesWidth;)i=t.offsetWidth,t=t.parentNode;return i},C=function(){var e,n,i=[],r=function(){var t;for(e=!0,n=!1;i.length;)t=i.shift(),t[0].apply(t[1],t[2]);e=!1};return function(o){e?o.apply(this,arguments):(i.push([o,this,arguments]),n||(n=!0,(t.hidden?l:u)(r)))}}(),_=function(e,t){return t?function(){C(e)}:function(){var t=this,n=arguments;C(function(){e.apply(t,n)})}},N=function(e){var t,n=0,i=125,o=666,a=o,s=function(){t=!1,n=r.now(),e()},c=d?function(){d(s,{timeout:a}),a!==o&&(a=o)}:_(function(){l(s)},!0);return function(e){var o;(e=e===!0)&&(a=44),t||(t=!0,o=i-(r.now()-n),0>o&&(o=0),e||9>o&&d?c():l(c,o))}},S=function(e){var t,n,i=99,o=function(){t=null,e()},a=function(){var e=r.now()-n;i>e?l(a,i-e):(d||o)(o)};return function(){n=r.now(),t||(t=l(a,i))}},T=function(){var o,u,d,h,p,k,T,M,A,O,z,q,P,L,W,I=/^img$/i,j=/^iframe$/i,F="onscroll"in e&&!/glebot/.test(navigator.userAgent),D=0,R=0,H=0,U=-1,V=function(e){H--,e&&e.target&&b(e.target,V),(!e||0>H||!e.target)&&(H=0)},G=function(e,n){var r,o=e,a="hidden"==E(t.body,"visibility")||"hidden"!=E(e,"visibility");for(A-=n,q+=n,O-=n,z+=n;a&&(o=o.offsetParent)&&o!=t.body&&o!=i;)a=(E(o,"opacity")||1)>0,a&&"visible"!=E(o,"overflow")&&(r=o.getBoundingClientRect(),a=z>r.left&&O<r.right&&q>r.top-1&&A<r.bottom+1);return a},Q=function(){var e,r,a,c,l,f,h,m,g;if((p=n.loadMode)&&8>H&&(e=o.length)){r=0,U++,null==L&&("expand"in n||(n.expand=i.clientHeight>500&&i.clientWidth>500?500:370),P=n.expand,L=P*n.expFactor),L>R&&1>H&&U>2&&p>2&&!t.hidden?(R=L,U=0):R=p>1&&U>1&&6>H?P:D;for(;e>r;r++)if(o[r]&&!o[r]._lazyRace)if(F)if((m=o[r][s]("data-expand"))&&(f=1*m)||(f=R),g!==f&&(T=innerWidth+f*W,M=innerHeight+f,h=-1*f,g=f),a=o[r].getBoundingClientRect(),(q=a.bottom)>=h&&(A=a.top)<=M&&(z=a.right)>=h*W&&(O=a.left)<=T&&(q||z||O||A)&&(d&&3>H&&!m&&(3>p||4>U)||G(o[r],f))){if(te(o[r]),l=!0,H>9)break}else!l&&d&&!c&&4>H&&4>U&&p>2&&(u[0]||n.preloadAfterLoad)&&(u[0]||!m&&(q||z||O||A||"auto"!=o[r][s](n.sizesAttr)))&&(c=u[0]||o[r]);else te(o[r]);c&&!l&&te(c)}},Y=N(Q),J=function(e){v(e.target,n.loadedClass),y(e.target,n.loadingClass),b(e.target,K)},X=_(J),K=function(e){X({target:e.target})},$=function(e,t){try{e.contentWindow.location.replace(t)}catch(n){e.src=t}},Z=function(e){var t,i,r=e[s](n.srcsetAttr);(t=n.customMedia[e[s]("data-media")||e[s]("media")])&&e.setAttribute("media",t),r&&e.setAttribute("srcset",r),t&&(i=e.parentNode,i.insertBefore(e.cloneNode(),e),i.removeChild(e))},ee=_(function(e,t,i,r,o){var a,c,u,d,p,g;(p=w(e,"lazybeforeunveil",t)).defaultPrevented||(r&&(i?v(e,n.autosizesClass):e.setAttribute("sizes",r)),c=e[s](n.srcsetAttr),a=e[s](n.srcAttr),o&&(u=e.parentNode,d=u&&f.test(u.nodeName||"")),g=t.firesLoad||"src"in e&&(c||a||d),p={target:e},g&&(b(e,V,!0),clearTimeout(h),h=l(V,2500),v(e,n.loadingClass),b(e,K,!0)),d&&m.call(u.getElementsByTagName("source"),Z),c?e.setAttribute("srcset",c):a&&!d&&(j.test(e.nodeName)?$(e,a):e.src=a),(c||d)&&x(e,{src:a})),C(function(){e._lazyRace&&delete e._lazyRace,y(e,n.lazyClass),(!g||e.complete)&&(g?V(p):H--,J(p))})}),te=function(e){var t,i=I.test(e.nodeName),r=i&&(e[s](n.sizesAttr)||e[s]("sizes")),o="auto"==r;(!o&&d||!i||!e.src&&!e.srcset||e.complete||g(e,n.errorClass))&&(t=w(e,"lazyunveilread").detail,o&&B.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,H++,ee(e,t,o,r,i))},ne=function(){if(!d){if(r.now()-k<999)return void l(ne,999);var e=S(function(){n.loadMode=3,Y()});d=!0,n.loadMode=3,Y(),c("scroll",function(){3==n.loadMode&&(n.loadMode=2),e()},!0)}};return{_:function(){k=r.now(),o=t.getElementsByClassName(n.lazyClass),u=t.getElementsByClassName(n.lazyClass+" "+n.preloadClass),W=n.hFac,c("scroll",Y,!0),c("resize",Y,!0),e.MutationObserver?new MutationObserver(Y).observe(i,{childList:!0,subtree:!0,attributes:!0}):(i[a]("DOMNodeInserted",Y,!0),i[a]("DOMAttrModified",Y,!0),setInterval(Y,999)),c("hashchange",Y,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(e){t[a](e,Y,!0)}),/d$|^c/.test(t.readyState)?ne():(c("load",ne),t[a]("DOMContentLoaded",Y),l(ne,2e4)),o.length?Q():Y()},checkElems:Y,unveil:te}}(),B=function(){var e,i=_(function(e,t,n,i){var r,o,a;if(e._lazysizesWidth=i,i+="px",e.setAttribute("sizes",i),f.test(t.nodeName||""))for(r=t.getElementsByTagName("source"),o=0,a=r.length;a>o;o++)r[o].setAttribute("sizes",i);n.detail.dataAttr||x(e,n.detail)}),r=function(e,t,n){var r,o=e.parentNode;o&&(n=k(e,o,n),r=w(e,"lazybeforesizes",{width:n,dataAttr:!!t}),r.defaultPrevented||(n=r.detail.width,n&&n!==e._lazysizesWidth&&i(e,o,r,n)))},o=function(){var t,n=e.length;if(n)for(t=0;n>t;t++)r(e[t])},a=S(o);return{_:function(){e=t.getElementsByClassName(n.autosizesClass),c("resize",a)},checkElems:a,updateElem:r}}(),M=function(){M.i||(M.i=!0,B._(),T._())};return function(){var t,i={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2};n=e.lazySizesConfig||e.lazysizesConfig||{};for(t in i)t in n||(n[t]=i[t]);e.lazySizesConfig=n,l(function(){n.init&&M()})}(),{cfg:n,autoSizer:B,loader:T,init:M,uP:x,aC:v,rC:y,hC:g,fire:w,gW:k,rAF:C}}});