window.magnum=function(){"use strict";var classLength,device,orientationType,viewportClass,eventQueue={},featureFlags=[],rootEl=document.getElementsByTagName("html")[0],prefix="viewport",breakpointPattern="(\\b|\\s)"+prefix+"\\-(small|medium|large)(\\-([0-9]|[1-9][0-9]|1[0-9][0-9]))?\\b",breakpointRegex=new RegExp(breakpointPattern,"g"),breakpoints=[{key:"small",val:315},{key:"small-10",val:450},{key:"small-20",val:600},{key:"medium",val:720},{key:"medium-10",val:765},{key:"medium-20",val:855},{key:"medium-30",val:960},{key:"medium-31",val:975},{key:"medium-40",val:1005},{key:"medium-50",val:1020},{key:"medium-60",val:1050},{key:"large",val:1080},{key:"large-10",val:1125},{key:"large-11",val:1155},{key:"large-20",val:1200},{key:"large-21",val:1215},{key:"large-30",val:1245},{key:"large-40",val:1280},{key:"large-41",val:1335},{key:"large-50",val:1375},{key:"large-51",val:1410},{key:"large-60",val:1607},{key:"large-70",val:1650},{key:"large-80",val:2030}],getWidth=function(){var func;if(document.documentElement&&document.documentElement.clientWidth)func=function(){return document.documentElement.clientWidth};else if(window.self&&window.self.innerWidth)func=function(){return window.self.innerWidth};else{if(!document.body)return function(){return 0};func=function(){return document.body.clientWidth}}return func}(),getHeight=function(){var func;if(document.documentElement&&document.documentElement.clientHeight)func=function(){return document.documentElement.clientHeight};else if(window.self&&window.self.innerHeight)func=function(){return window.self.innerHeight};else{if(!document.body)return function(){return 0};func=function(){return document.body.clientHeight}}return func}(),createTrigger=function(eventName){return function(){var i,callbacks=eventQueue[eventName].callbacks;for(i=0;i<callbacks.length;i+=1)callbacks[i].apply({},arguments)}},on=function(eventName,callback){eventQueue.hasOwnProperty(eventName)?eventQueue[eventName].callbacks.push(callback):eventQueue[eventName]={callbacks:[callback],trigger:createTrigger(eventName)}},getViewport=function(){return viewportClass},getViewportInteger=function(){var numberString=viewportClass.match(/\d+/),number=numberString?numberString[0]:"00",match=viewportClass.match(/small|medium|large/)[0],sizes={small:1,medium:10,large:100};return parseInt(sizes[match]+""+number,10)},setClasses=function(newClasses){rootEl.className=newClasses},getClasses=function(){return rootEl.className},addClass=function(newClass){setClasses(newClass+" "+getClasses())},changeClass=function(classesArray,regex){var newClasses,classes=getClasses();newClasses=classes.replace(regex,""),newClasses+=" "+classesArray.join(" "),setClasses(newClasses)},detectDevice=function(){var regex=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i,touch=regex.test(navigator.userAgent);device=touch?"mobile":"desktop",addClass(device)},detectMoz=function(){var match=navigator.userAgent.match(/Firefox/i);match&&addClass("moz")},detectEmbedPosition=function(){var match=document.location.search.match(/embedPosition=(\w+)/);match&&addClass("page-embedded-"+match[1])},getOrientation=function(){return orientationType},orientationChange=function(){var regex=new RegExp("(\\b|\\s)"+prefix+"\\-(portrait|landscape)\\b","g");orientationType=prefix,orientationType+=90===window.orientation||window.orientation===-90?"-landscape":"-portrait",changeClass([orientationType],regex),eventQueue.orientationChange&&eventQueue.orientationChange.trigger(orientationType,viewportClass)},checkSize=function(){var i,len,breakpoint,integer,width=getWidth(),newArray=[];for(i=0,len=breakpoints.length;i<len&&(breakpoint=breakpoints[i],width>=breakpoint.val||breakpoint.key===breakpoints[0].key);++i)newArray.push(prefix+"-"+breakpoint.key);newArray.length!==classLength&&(changeClass(newArray,breakpointRegex),classLength=newArray.length,viewportClass=newArray[classLength-1],integer=getViewportInteger(),eventQueue.breakPoint&&eventQueue.breakPoint.trigger(integer,viewportClass))},processFlags=function(flags){var i,len,featureClasses="";for(featureFlags=flags||[],i=0,len=featureFlags.length;i<len;i+=1)featureClasses+=" flag-"+featureFlags[i]+"-on";addClass(featureClasses)},processInitialFlags=function(){var flags=document.getElementById("magnum-feature-flags");flags&&window.JSON&&processFlags(window.JSON.parse(flags.text))},getFlags=function(){return featureFlags},writeLogo=function(size,path,sectionName,mastheadOverrides,pageTheme,targetId,appName){var html,w,h,logoPath,blackLogoPath,isTransparent,displayColor,$logoLink=document.getElementById(targetId||""),isSmallViewport=getViewportInteger()<110,removeInternationalEdition=featureFlags.indexOf("removeInternationalEdition")>-1,isGlobal=document.cookie.indexOf("NYT-Edition=edition|GLOBAL")>=0&&!removeInternationalEdition,appGetsCustomMasthead="article"===appName||"interactive"===appName;mastheadOverrides=mastheadOverrides||"",isTransparent=mastheadOverrides.indexOf("masthead-theme-transparent")>-1||mastheadOverrides.indexOf("masthead-theme-transparent-ffffff")>-1,displayColor=mastheadOverrides.indexOf("masthead-theme-transparent-ffffff")>-1||"black"===pageTheme?"white-":"","large"===size?(w=isGlobal?"450":"370",h=isGlobal?"44":"50"):"magazine"===sectionName?(w=isSmallViewport?"184":"260",h=isSmallViewport?"22":"23"):"t-magazine"===sectionName&&appGetsCustomMasthead?(w=isSmallViewport?"184":"250",h=isSmallViewport?"22":"30"):isGlobal?(w=isTransparent?"240":"236",h=isTransparent?"30":"22"):(w=isTransparent?"163":"185",h=isTransparent?"30":"26"),logoPath=path+(isGlobal?"international-logo-":"nyt-logo-")+displayColor+w+"x"+h,blackLogoPath=path+(isGlobal?"international-logo-":"nyt-logo-")+w+"x"+h,"magazine"===sectionName&&(logoPath=path+"magazine-logo-"+displayColor+w+"x"+h,blackLogoPath=path+"magazine-logo-"+w+"x"+h),"t-magazine"===sectionName&&appGetsCustomMasthead&&(logoPath=path+"t-magazine-logo-"+displayColor+w+"x"+h,blackLogoPath=path+"t-magazine-logo-"+w+"x"+h),isGlobal&&"mobile"===device&&(w="184",h="26"),html='<svg class="nyt-logo" width="'+w+'" height="'+h+'" role="img" aria-label="The New York Times"><image width="'+w+'" height="'+h+'" xlink:href="'+logoPath+'.svg" src="'+logoPath+'.png" alt="The New York Times" border="0" /></svg><img src="'+blackLogoPath+'.png" class="nyt-logo-print" alt="The New York Times" />',$logoLink?$logoLink.innerHTML+=html:document.write(html)},addNonResponsiveViewportMeta=function(width){var browserWidth,viewportTag;browserWidth=window.outerWidth?window.outerWidth:getWidth(),browserWidth>width&&(width=browserWidth),viewportTag=document.createElement("meta"),viewportTag.setAttribute("name","viewport"),viewportTag.setAttribute("content","width="+width+", user-scalable=yes"),document.getElementsByTagName("head")[0].appendChild(viewportTag),checkSize()},addViewportMetaFromUrlParam=function(){var width,viewportTag,match=document.location.search.match(/viewportWidth=(\d+)/);match&&match[1]&&(width=+match[1]),width<=1050&&(viewportTag=document.createElement("meta"),viewportTag.setAttribute("name","viewport"),viewportTag.setAttribute("content","width="+width+", initial-scale=1, maximum-scale=1"),document.getElementsByTagName("head")[0].appendChild(viewportTag),checkSize())},addEditionClass=function(edition){var removeInternationalEdition=featureFlags.indexOf("removeInternationalEdition")>-1,classToAdd="global"!==edition||removeInternationalEdition?"edition-domestic":"edition-international";changeClass([classToAdd],new RegExp("edition-[w]*","g"))},init=function(){return 0===getClasses().length&&setClasses(""),detectDevice(),detectMoz(),detectEmbedPosition(),checkSize(),processInitialFlags(),window.onresize=checkSize,"mobile"===device&&(orientationChange(),window.onorientationchange=orientationChange),{on:on,device:device,getWidth:getWidth,getHeight:getHeight,breakpoints:breakpoints,getViewport:getViewport,getOrientation:getOrientation,getViewportInteger:getViewportInteger,getFlags:getFlags,processFlags:processFlags,writeLogo:writeLogo,addNonResponsiveViewportMeta:addNonResponsiveViewportMeta,addViewportMetaFromUrlParam:addViewportMetaFromUrlParam,addEditionClass:addEditionClass}};return init()}(),window.magnum.responsiveImages=function(){"use strict";var bleedType,coverImage,coverImageHeight,coverImageWidth,coverImageCaption,story,storyHeader,headline,storyMeta,storyBody,cover,coverHeight,realImgHeight,realImgWidth,imageAspectRatio,imageOrientation,topCropBias,leftCropBias,bottomCropBias,rightCropBias,coverImageCaptionHeight,backgroundColor,shell,masthead,html,windowWidth=window.magnum.getWidth(),windowHeight=window.magnum.getHeight(),coverWidth=windowWidth,coverToLedeBreakpoint=780,viewportMedium50=1020,belowCoverToLedeBreakpoint=!1,isBelowVerticalFullBleedBreakpoint=!1,fullBleedImageVerticalBreakpoint=50,setStoryBodyTop=function(top){"full-bleed-cover"!==bleedType||belowCoverToLedeBreakpoint?"vertical-full-bleed"===bleedType?coverImageCaptionHeight>0?isBelowVerticalFullBleedBreakpoint||(top+=coverImageCaptionHeight+65):top+=80:top+=20:top+=coverImageCaptionHeight>0?coverImageCaptionHeight+65:80,storyBody.style.marginTop=top+"px"},setCaptionPosition=function(newCaptionPosition){coverImageCaption&&(coverImageCaption.style.top=newCaptionPosition+7+"px")},setCoverHeight=function(newCoverHeight,newCaptionPosition){cover.style.height=newCoverHeight+"px",setCaptionPosition(newCaptionPosition)},setBelowCoverToLedeBreakpoint=function(value){belowCoverToLedeBreakpoint=value},setBelowVerticalFullBleedBreakpoint=function(value){isBelowVerticalFullBleedBreakpoint=value},handleCropBias=function(offset,direction){var verticalBias,horizontalBias,pixelsCropped,fullImageWidth=coverHeight*imageAspectRatio,fullImageHeight=coverWidth/imageAspectRatio;return"horizontal"===direction&&(pixelsCropped=fullImageWidth-coverWidth,horizontalBias=(rightCropBias-leftCropBias)/100,horizontalBias<=-.5&&(horizontalBias=-.5),offset+=pixelsCropped*horizontalBias,offset>=0&&(offset=0)),"vertical"===direction&&(pixelsCropped=fullImageHeight-coverHeight,verticalBias=(bottomCropBias-topCropBias)/100,verticalBias<=-.5&&(verticalBias=-.5),offset+=pixelsCropped*verticalBias,offset>=0&&(offset=0)),offset},getAllDimensions=function(){windowHeight=window.magnum.getHeight(),windowWidth=window.magnum.getWidth(),coverHeight=cover.clientHeight,coverWidth=cover.clientWidth,coverImageHeight=coverImage.clientHeight,coverImageWidth=coverImage.clientWidth,coverImageCaptionHeight=coverImageCaption?coverImageCaption.clientHeight:0},cropImageVertically=function(){var newHeight,newWidth,offsetLeft;getAllDimensions(),newHeight=coverHeight,newWidth=coverHeight*imageAspectRatio,offsetLeft=-Math.abs((coverWidth-newWidth)/2),offsetLeft=handleCropBias(offsetLeft,"horizontal"),coverImage.style.height=newHeight+"px",coverImage.style.width=newWidth+"px",coverImage.style.maxWidth="none",coverImage.style.marginLeft=offsetLeft+"px"},cropImageHorizontally=function(){var offsetTop,newHeight=coverImageWidth/imageAspectRatio;newHeight>coverHeight&&(offsetTop=-Math.abs((newHeight-coverHeight)/2),offsetTop=handleCropBias(offsetTop,"vertical"),coverImage.style.marginTop=offsetTop+"px")},scaleImageHorizontally=function(){var newHeight=windowWidth/imageAspectRatio;setCoverHeight(newHeight,newHeight),setStoryBodyTop(storyHeader.clientHeight)},fitImage=function(){var imageScaleRatio,coverScaleRatio;getAllDimensions(),imageScaleRatio=realImgHeight/realImgWidth,coverScaleRatio=coverHeight/coverWidth,imageScaleRatio>coverScaleRatio?cropImageHorizontally():imageScaleRatio<coverScaleRatio&&("full-bleed-lede"===bleedType?scaleImageHorizontally():cropImageVertically())},makeHeadlineImageTopper=function(){var acceptableImageHeight,acceptableImageWidth,currentWidth=coverImage.clientWidth,currentHeight=coverImage.clientHeight;for(shell.style.paddingTop="47px",getAllDimensions(),acceptableImageWidth=coverWidth,acceptableImageHeight=coverHeight;currentWidth>=acceptableImageWidth||currentHeight>=acceptableImageHeight;)currentWidth-=1*imageAspectRatio,currentHeight-=1;coverImage.style.width=currentWidth+"px",coverImage.style.height=currentHeight+"px",coverImageCaption&&(coverImageCaption.style.width="auto",coverImageCaption.style.marginLeft="auto",getAllDimensions(),coverImageWidth!==coverImageCaption.clientWidth&&(coverImageCaption.style.width=coverImageWidth+"px",coverImageCaption.style.marginLeft=(coverWidth-coverImageWidth)/2+"px")),handleMastheadClasses()},makeFullBleedCover=function(){getAllDimensions(),setCoverHeight(windowHeight,windowHeight),setStoryBodyTop(windowHeight),fitImage()},makeVerticalFullBleed=function(){var featureFlags=window.magnum.getFlags(),bleedMastheadColorFlag=featureFlags.indexOf("bleedMastheadColor")>-1;getAllDimensions(),setCoverHeight(windowHeight,windowHeight),"transparent"!==storyMeta.style.backgroundColor&&storyMeta.style.backgroundColor||(storyMeta.style.backgroundColor=backgroundColor),handleMastheadClasses(),bleedMastheadColorFlag&&swapMastheadBackgroundColor(),setStoryBodyTop(windowHeight),fitImage()},handleMastheadClasses=function(){"headline-image-topper"===bleedType?masthead&&masthead.className.indexOf("masthead-headline-image-topper")===-1&&(masthead.className+=" masthead-headline-image-topper"):"vertical-full-bleed"===bleedType&&masthead&&masthead.className.indexOf("masthead-vertical-fullbleed")===-1&&(masthead.className+=" masthead-vertical-fullbleed",document.getElementById("story").className.indexOf("bleed-align-left")!==-1&&(masthead.className+=" bleed-align-left"),html.className.indexOf("section-magazine")!==-1&&(masthead.className+=" masthead-magazine"),html.className.indexOf("section-t-magazine")!==-1&&(masthead.className+=" masthead-t-mag"))},swapMastheadBackgroundColor=function(){var rgbaBackgroundColor=createRGBAfromHex(backgroundColor);isBelowVerticalFullBleedBreakpoint?"transparent"!==masthead.style.backgroundColor&&masthead.style.backgroundColor||(masthead.style.backgroundColor=rgbaBackgroundColor):isBelowVerticalFullBleedBreakpoint||"transparent"===masthead.style.backgroundColor||(masthead.style.backgroundColor="transparent")},createRGBAfromHex=function(hexValue){var fullResult,shorthandHexExpansionRegex=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;return hexValue=hexValue.replace(shorthandHexExpansionRegex,function(m,r,g,b){return r+r+g+g+b+b}),fullResult=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hexValue),"rgba("+[parseInt(fullResult[1],16),parseInt(fullResult[2],16),parseInt(fullResult[3],16),"0.4)"].join()},makeShallowFullBleedLede=function(imageHeight,coverWidth){0===imageHeight&&(imageHeight=coverWidth/imageAspectRatio),setCoverHeight(imageHeight+coverImageCaptionHeight,imageHeight),handleMastheadClasses(),setStoryBodyTop(storyHeader.clientHeight)},makeDeepFullBleedLede=function(){var newCoverHeight=windowHeight-headline.clientHeight-coverImageCaptionHeight,percentageOfVerticalImageVisable=newCoverHeight/coverImageHeight*100;percentageOfVerticalImageVisable<fullBleedImageVerticalBreakpoint&&"landscape"===imageOrientation&&(newCoverHeight=.01*fullBleedImageVerticalBreakpoint*coverImageHeight),setCoverHeight(newCoverHeight,newCoverHeight),setStoryBodyTop(storyHeader.clientHeight),fitImage()},makeFullBleedLede=function(){var imageHeight,featureFlags=window.magnum.getFlags(),bleedMastheadColorFlag=featureFlags.indexOf("bleedMastheadColor")>-1;getAllDimensions(),imageHeight=coverImageHeight,coverWidth=windowWidth,storyMeta.style.backgroundColor="transparent","vertical-full-bleed"===bleedType?(setBelowVerticalFullBleedBreakpoint(!0),makeShallowFullBleedLede(imageHeight,coverWidth),bleedMastheadColorFlag&&swapMastheadBackgroundColor()):belowCoverToLedeBreakpoint?makeShallowFullBleedLede(imageHeight,coverWidth):makeDeepFullBleedLede()},setCoverImage=function(imageId,bleedStyle,imgHeight,imgWidth,cropTop,cropRight,cropBottom,cropLeft,bleedBackgroundColor){html=document.getElementsByTagName("html")[0],masthead=document.getElementById("masthead"),shell=document.getElementById("shell"),cover=document.getElementById("media-"+imageId),coverImage=document.getElementById("media-image-"+imageId),coverImageCaption=document.getElementById("media-caption-"+imageId),story=document.getElementById("story"),storyHeader=document.getElementById("story-header"),headline=document.getElementById("headline"),storyMeta=document.getElementById("story-meta"),storyBody=document.getElementsByClassName("story-body-supplemental")[0],backgroundColor=bleedBackgroundColor,realImgHeight=imgHeight,realImgWidth=imgWidth,bleedType=bleedStyle,imageAspectRatio=Math.min(realImgWidth/realImgHeight),topCropBias=cropTop,leftCropBias=cropLeft,bottomCropBias=cropBottom,rightCropBias=cropRight,imageOrientation=realImgHeight>realImgWidth?"portrait":"landscape","full-bleed"===bleedType||"full-bleed-cover"===bleedType?windowWidth<coverToLedeBreakpoint?(story.className=story.className.replace(/(?:^|\s)has-full-bleed-cover(?!\S)/g,""),story.className+=" has-full-bleed-image-lede",setBelowCoverToLedeBreakpoint(!0),makeFullBleedLede()):"full-bleed"===bleedType?makeFullBleedLede():"full-bleed-cover"===bleedType&&makeFullBleedCover():"headline-image-topper"===bleedType?makeHeadlineImageTopper():"vertical-full-bleed"===bleedType&&(windowWidth<viewportMedium50&&html.className.indexOf("viewport-medium-50")===-1?(story.className=story.className.replace(/(?:^|\s)has-vertical-full-bleed(?!\S)/g,""),story.className+=" has-full-bleed-image-lede",setBelowVerticalFullBleedBreakpoint(!0),makeFullBleedLede()):makeVerticalFullBleed())};return{coverToLedeBreakpoint:coverToLedeBreakpoint,setBelowCoverToLedeBreakpoint:setBelowCoverToLedeBreakpoint,setBelowVerticalFullBleedBreakpoint:setBelowVerticalFullBleedBreakpoint,setCoverImage:setCoverImage,makeFullBleedCover:makeFullBleedCover,makeFullBleedLede:makeFullBleedLede,makeVerticalFullBleed:makeVerticalFullBleed,makeHeadlineImageTopper:makeHeadlineImageTopper,setStoryBodyTop:setStoryBodyTop}}(),window.Modernizr=function(a,b,c){function C(a){j.cssText=a}function D(a,b){return C(n.join(a+";")+(b||""))}function E(a,b){return typeof a===b}function F(a,b){return!!~(""+a).indexOf(b)}function G(a,b){for(var d in a){var e=a[d];if(!F(e,"-")&&j[e]!==c)return"pfx"!=b||e}return!1}function H(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:E(f,"function")?f.bind(d||b):f}return!1}function I(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+p.join(d+" ")+d).split(" ");return E(b,"string")||E(b,"undefined")?G(e,b):(e=(a+" "+q.join(d+" ")+d).split(" "),H(e,b,c))}function J(){e.input=function(c){for(var d=0,e=c.length;d<e;d++)u[c[d]]=c[d]in k;return u.list&&(u.list=!!b.createElement("datalist")&&!!a.HTMLDataListElement),u}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),e.inputtypes=function(a){for(var e,f,h,d=0,i=a.length;d<i;d++)k.setAttribute("type",f=a[d]),e="text"!==k.type,e&&(k.value=l,k.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(f)&&k.style.WebkitAppearance!==c?(g.appendChild(k),h=b.defaultView,e=h.getComputedStyle&&"textfield"!==h.getComputedStyle(k,null).WebkitAppearance&&0!==k.offsetHeight,g.removeChild(k)):/^(search|tel)$/.test(f)||(e=/^(url|email)$/.test(f)?k.checkValidity&&k.checkValidity()===!1:k.value!=l)),t[a[d]]=!!e;return t}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var x,B,d="2.8.3",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k=b.createElement("input"),l=":)",m={}.toString,n=" -webkit- -moz- -o- -ms- ".split(" "),o="Webkit Moz O ms",p=o.split(" "),q=o.toLowerCase().split(" "),r={svg:"http://www.w3.org/2000/svg"},s={},t={},u={},v=[],w=v.slice,y=function(a,c,d,e){var f,i,j,k,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))for(;d--;)j=b.createElement("div"),j.id=e?e[d]:h+(d+1),l.appendChild(j);return f=["&#173;",'<style id="s',h,'">',a,"</style>"].join(""),l.id=h,(m?l:n).innerHTML+=f,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",k=g.style.overflow,g.style.overflow="hidden",g.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),g.style.overflow=k),!!i},z=function(){function d(d,e){e=e||b.createElement(a[d]||"div"),d="on"+d;var f=d in e;return f||(e.setAttribute||(e=b.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(d,""),f=E(e[d],"function"),E(e[d],"undefined")||(e[d]=c),e.removeAttribute(d))),e=null,f}var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return d}(),A={}.hasOwnProperty;B=E(A,"undefined")||E(A.call,"undefined")?function(a,b){return b in a&&E(a.constructor.prototype[b],"undefined")}:function(a,b){return A.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if("function"!=typeof c)throw new TypeError;var d=w.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(w.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(w.call(arguments)))};return e}),s.flexbox=function(){return I("flexWrap")},s.flexboxlegacy=function(){return I("boxDirection")},s.canvas=function(){var a=b.createElement("canvas");return!!a.getContext&&!!a.getContext("2d")},s.canvastext=function(){return!!e.canvas&&!!E(b.createElement("canvas").getContext("2d").fillText,"function")},s.webgl=function(){return!!a.WebGLRenderingContext},s.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:y(["@media (",n.join("touch-enabled),("),h,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=9===a.offsetTop}),c},s.geolocation=function(){return"geolocation"in navigator},s.postmessage=function(){return!!a.postMessage},s.websqldatabase=function(){return!!a.openDatabase},s.indexedDB=function(){return!!I("indexedDB",a)},s.hashchange=function(){return z("hashchange",a)&&(b.documentMode===c||b.documentMode>7)},s.history=function(){return!!a.history&&!!history.pushState},s.draganddrop=function(){var a=b.createElement("div");return"draggable"in a||"ondragstart"in a&&"ondrop"in a},s.websockets=function(){return"WebSocket"in a||"MozWebSocket"in a},s.rgba=function(){return C("background-color:rgba(150,255,150,.5)"),F(j.backgroundColor,"rgba")},s.hsla=function(){return C("background-color:hsla(120,40%,100%,.5)"),F(j.backgroundColor,"rgba")||F(j.backgroundColor,"hsla")},s.multiplebgs=function(){return C("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(j.background)},s.backgroundsize=function(){return I("backgroundSize")},s.borderimage=function(){return I("borderImage")},s.borderradius=function(){return I("borderRadius")},s.boxshadow=function(){return I("boxShadow")},s.textshadow=function(){return""===b.createElement("div").style.textShadow},s.opacity=function(){return D("opacity:.55"),/^0.55$/.test(j.opacity)},s.cssanimations=function(){return I("animationName")},s.csscolumns=function(){return I("columnCount")},s.cssgradients=function(){var a="background-image:",b="gradient(linear,left top,right bottom,from(#9f9),to(white));",c="linear-gradient(left top,#9f9, white);";return C((a+"-webkit- ".split(" ").join(b+a)+n.join(c+a)).slice(0,-a.length)),F(j.backgroundImage,"gradient")},s.cssreflections=function(){return I("boxReflect")},s.csstransforms=function(){return!!I("transform")},s.csstransforms3d=function(){var a=!!I("perspective");return a&&"webkitPerspective"in g.style&&y("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b,c){a=9===b.offsetLeft&&3===b.offsetHeight}),a},s.csstransitions=function(){return I("transition")},s.fontface=function(){var a;return y('@font-face {font-family:"font";src:url("https://")}',function(c,d){var e=b.getElementById("smodernizr"),f=e.sheet||e.styleSheet,g=f?f.cssRules&&f.cssRules[0]?f.cssRules[0].cssText:f.cssText||"":"";a=/src/i.test(g)&&0===g.indexOf(d.split(" ")[0])}),a},s.generatedcontent=function(){var a;return y(["#",h,"{font:0/0 a}#",h,':after{content:"',l,'";visibility:hidden;font:3px/1 a}'].join(""),function(b){a=b.offsetHeight>=3}),a},s.video=function(){var a=b.createElement("video"),c=!1;try{(c=!!a.canPlayType)&&(c=new Boolean(c),c.ogg=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),c.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),c.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(d){}return c},s.audio=function(){var a=b.createElement("audio"),c=!1;try{(c=!!a.canPlayType)&&(c=new Boolean(c),c.ogg=a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),c.mp3=a.canPlayType("audio/mpeg;").replace(/^no$/,""),c.wav=a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),c.m4a=(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(d){}return c},s.localstorage=function(){try{return localStorage.setItem(h,h),localStorage.removeItem(h),!0}catch(a){return!1}},s.sessionstorage=function(){try{return sessionStorage.setItem(h,h),sessionStorage.removeItem(h),!0}catch(a){return!1}},s.webworkers=function(){return!!a.Worker},s.applicationcache=function(){return!!a.applicationCache},s.svg=function(){return!!b.createElementNS&&!!b.createElementNS(r.svg,"svg").createSVGRect},s.inlinesvg=function(){var a=b.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==r.svg},s.smil=function(){return!!b.createElementNS&&/SVGAnimate/.test(m.call(b.createElementNS(r.svg,"animate")))},s.svgclippaths=function(){return!!b.createElementNS&&/SVGClipPath/.test(m.call(b.createElementNS(r.svg,"clipPath")))};for(var K in s)B(s,K)&&(x=K.toLowerCase(),e[x]=s[K](),v.push((e[x]?"":"no-")+x));return e.input||J(),e.addTest=function(a,b){if("object"==typeof a)for(var d in a)B(a,d)&&e.addTest(d,a[d]);else{if(a=a.toLowerCase(),e[a]!==c)return e;b="function"==typeof b?b():b,"undefined"!=typeof f&&f&&(g.className+=" has-"+(b?"":"no-")+a),e[a]=b}return e},C(""),i=k=null,e._version=d,e._prefixes=n,e._domPrefixes=q,e._cssomPrefixes=p,e.hasEvent=z,e.testProp=function(a){return G([a])},e.testAllProps=I,e.testStyles=y,g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" has-js has-"+v.join(" has-"):""),e}(this,this.document),function(a,b){function l(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function m(){var a=s.elements;return"string"==typeof a?a.split(" "):a}function n(a){var b=j[a[h]];return b||(b={},i++,a[h]=i,j[i]=b),b}function o(a,c,d){if(c||(c=b),k)return c.createElement(a);d||(d=n(c));var g;return g=d.cache[a]?d.cache[a].cloneNode():f.test(a)?(d.cache[a]=d.createElem(a)).cloneNode():d.createElem(a),!g.canHaveChildren||e.test(a)||g.tagUrn?g:d.frag.appendChild(g)}function p(a,c){if(a||(a=b),k)return a.createDocumentFragment();c=c||n(a);for(var d=c.frag.cloneNode(),e=0,f=m(),g=f.length;e<g;e++)d.createElement(f[e]);return d}function q(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return s.shivMethods?o(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+m().join().replace(/\w+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(s,b.frag)}function r(a){a||(a=b);var c=n(a);return s.shivCSS&&!g&&!c.hasCSS&&(c.hasCSS=!!l(a,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),k||q(a,c),a}function w(a){for(var b,c=a.getElementsByTagName("*"),d=c.length,e=RegExp("^(?:"+m().join("|")+")$","i"),f=[];d--;)b=c[d],e.test(b.nodeName)&&f.push(b.applyElement(x(b)));return f}function x(a){for(var b,c=a.attributes,d=c.length,e=a.ownerDocument.createElement(u+":"+a.nodeName);d--;)b=c[d],b.specified&&e.setAttribute(b.nodeName,b.nodeValue);return e.style.cssText=a.style.cssText,e}function y(a){for(var b,c=a.split("{"),d=c.length,e=RegExp("(^|[\\s,>+~])("+m().join("|")+")(?=[[\\s,>+~#.:]|$)","gi"),f="$1"+u+"\\:$2";d--;)b=c[d]=c[d].split("}"),b[b.length-1]=b[b.length-1].replace(e,f),c[d]=b.join("}");return c.join("{")}function z(a){for(var b=a.length;b--;)a[b].removeNode()}function A(a){function g(){clearTimeout(d._removeSheetTimer),b&&b.removeNode(!0),b=null}var b,c,d=n(a),e=a.namespaces,f=a.parentWindow;return!v||a.printShived?a:("undefined"==typeof e[u]&&e.add(u),f.attachEvent("onbeforeprint",function(){g();for(var d,e,f,h=a.styleSheets,i=[],j=h.length,k=Array(j);j--;)k[j]=h[j];for(;f=k.pop();)if(!f.disabled&&t.test(f.media)){try{d=f.imports,e=d.length}catch(m){e=0}for(j=0;j<e;j++)k.push(d[j]);try{i.push(f.cssText)}catch(m){}}i=y(i.reverse().join("")),c=w(a),b=l(a,i)}),f.attachEvent("onafterprint",function(){z(c),clearTimeout(d._removeSheetTimer),d._removeSheetTimer=setTimeout(g,500)}),a.printShived=!0,a)}var g,k,c="3.7.0",d=a.html5||{},e=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,h="_html5shiv",i=0,j={};!function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",g="hidden"in a,k=1==a.childNodes.length||function(){b.createElement("a");var a=b.createDocumentFragment();return"undefined"==typeof a.cloneNode||"undefined"==typeof a.createDocumentFragment||"undefined"==typeof a.createElement}()}catch(c){g=!0,k=!0}}();var s={elements:d.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:c,shivCSS:d.shivCSS!==!1,supportsUnknownElements:k,shivMethods:d.shivMethods!==!1,type:"default",shivDocument:r,createElement:o,createDocumentFragment:p};a.html5=s,r(b);var t=/^$|\b(?:all|print)\b/,u="html5shiv",v=!k&&function(){var c=b.documentElement;return"undefined"!=typeof b.namespaces&&"undefined"!=typeof b.parentWindow&&"undefined"!=typeof c.applyElement&&"undefined"!=typeof c.removeNode&&"undefined"!=typeof a.attachEvent}();s.type+=" print",s.shivPrint=A,A(b)}(this,document),Modernizr.addTest("cors",!!(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest));var requirejs,require,define;!function(global){function isFunction(it){return"[object Function]"===ostring.call(it)}function isArray(it){return"[object Array]"===ostring.call(it)}function each(ary,func){if(ary){var i;for(i=0;i<ary.length&&(!ary[i]||!func(ary[i],i,ary));i+=1);}}function eachReverse(ary,func){if(ary){var i;for(i=ary.length-1;i>-1&&(!ary[i]||!func(ary[i],i,ary));i-=1);}}function hasProp(obj,prop){return hasOwn.call(obj,prop)}function getOwn(obj,prop){return hasProp(obj,prop)&&obj[prop]}function eachProp(obj,func){var prop;for(prop in obj)if(hasProp(obj,prop)&&func(obj[prop],prop))break}function mixin(target,source,force,deepStringMixin){return source&&eachProp(source,function(value,prop){!force&&hasProp(target,prop)||(deepStringMixin&&"string"!=typeof value?(target[prop]||(target[prop]={}),mixin(target[prop],value,force,deepStringMixin)):target[prop]=value)}),target}function bind(obj,fn){return function(){return fn.apply(obj,arguments)}}function scripts(){return document.getElementsByTagName("script")}function getGlobal(value){if(!value)return value;var g=global;return each(value.split("."),function(part){g=g[part]}),g}function makeError(id,msg,err,requireModules){var e=new Error(msg+"\nhttp://requirejs.org/docs/errors.html#"+id);return e.requireType=id,e.requireModules=requireModules,err&&(e.originalError=err),e}function newContext(contextName){function trimDots(ary){var i,part;for(i=0;ary[i];i+=1)if(part=ary[i],"."===part)ary.splice(i,1),i-=1;else if(".."===part){if(1===i&&(".."===ary[2]||".."===ary[0]))break;i>0&&(ary.splice(i-1,2),i-=2)}}function normalize(name,baseName,applyMap){
var pkgName,pkgConfig,mapValue,nameParts,i,j,nameSegment,foundMap,foundI,foundStarMap,starI,baseParts=baseName&&baseName.split("/"),normalizedBaseParts=baseParts,map=config.map,starMap=map&&map["*"];if(name&&"."===name.charAt(0)&&(baseName?(normalizedBaseParts=getOwn(config.pkgs,baseName)?baseParts=[baseName]:baseParts.slice(0,baseParts.length-1),name=normalizedBaseParts.concat(name.split("/")),trimDots(name),pkgConfig=getOwn(config.pkgs,pkgName=name[0]),name=name.join("/"),pkgConfig&&name===pkgName+"/"+pkgConfig.main&&(name=pkgName)):0===name.indexOf("./")&&(name=name.substring(2))),applyMap&&(baseParts||starMap)&&map){for(nameParts=name.split("/"),i=nameParts.length;i>0;i-=1){if(nameSegment=nameParts.slice(0,i).join("/"),baseParts)for(j=baseParts.length;j>0;j-=1)if(mapValue=getOwn(map,baseParts.slice(0,j).join("/")),mapValue&&(mapValue=getOwn(mapValue,nameSegment))){foundMap=mapValue,foundI=i;break}if(foundMap)break;!foundStarMap&&starMap&&getOwn(starMap,nameSegment)&&(foundStarMap=getOwn(starMap,nameSegment),starI=i)}!foundMap&&foundStarMap&&(foundMap=foundStarMap,foundI=starI),foundMap&&(nameParts.splice(0,foundI,foundMap),name=nameParts.join("/"))}return name}function removeScript(name){isBrowser&&each(scripts(),function(scriptNode){if(scriptNode.getAttribute("data-requiremodule")===name&&scriptNode.getAttribute("data-requirecontext")===context.contextName)return scriptNode.parentNode.removeChild(scriptNode),!0})}function hasPathFallback(id){var pathConfig=getOwn(config.paths,id);if(pathConfig&&isArray(pathConfig)&&pathConfig.length>1)return removeScript(id),pathConfig.shift(),context.require.undef(id),context.require([id]),!0}function splitPrefix(name){var prefix,index=name?name.indexOf("!"):-1;return index>-1&&(prefix=name.substring(0,index),name=name.substring(index+1,name.length)),[prefix,name]}function makeModuleMap(name,parentModuleMap,isNormalized,applyMap){var url,pluginModule,suffix,nameParts,prefix=null,parentName=parentModuleMap?parentModuleMap.name:null,originalName=name,isDefine=!0,normalizedName="";return name||(isDefine=!1,name="_@r"+(requireCounter+=1)),nameParts=splitPrefix(name),prefix=nameParts[0],name=nameParts[1],prefix&&(prefix=normalize(prefix,parentName,applyMap),pluginModule=getOwn(defined,prefix)),name&&(prefix?normalizedName=pluginModule&&pluginModule.normalize?pluginModule.normalize(name,function(name){return normalize(name,parentName,applyMap)}):normalize(name,parentName,applyMap):(normalizedName=normalize(name,parentName,applyMap),nameParts=splitPrefix(normalizedName),prefix=nameParts[0],normalizedName=nameParts[1],isNormalized=!0,url=context.nameToUrl(normalizedName))),suffix=!prefix||pluginModule||isNormalized?"":"_unnormalized"+(unnormalizedCounter+=1),{prefix:prefix,name:normalizedName,parentMap:parentModuleMap,unnormalized:!!suffix,url:url,originalName:originalName,isDefine:isDefine,id:(prefix?prefix+"!"+normalizedName:normalizedName)+suffix}}function getModule(depMap){var id=depMap.id,mod=getOwn(registry,id);return mod||(mod=registry[id]=new context.Module(depMap)),mod}function on(depMap,name,fn){var id=depMap.id,mod=getOwn(registry,id);!hasProp(defined,id)||mod&&!mod.defineEmitComplete?getModule(depMap).on(name,fn):"defined"===name&&fn(defined[id])}function onError(err,errback){var ids=err.requireModules,notified=!1;errback?errback(err):(each(ids,function(id){var mod=getOwn(registry,id);mod&&(mod.error=err,mod.events.error&&(notified=!0,mod.emit("error",err)))}),notified||req.onError(err))}function takeGlobalQueue(){globalDefQueue.length&&(apsp.apply(defQueue,[defQueue.length-1,0].concat(globalDefQueue)),globalDefQueue=[])}function cleanRegistry(id){delete registry[id]}function breakCycle(mod,traced,processed){var id=mod.map.id;mod.error?mod.emit("error",mod.error):(traced[id]=!0,each(mod.depMaps,function(depMap,i){var depId=depMap.id,dep=getOwn(registry,depId);!dep||mod.depMatched[i]||processed[depId]||(getOwn(traced,depId)?(mod.defineDep(i,defined[depId]),mod.check()):breakCycle(dep,traced,processed))}),processed[id]=!0)}function checkLoaded(){var map,modId,err,usingPathFallback,waitInterval=1e3*config.waitSeconds,expired=waitInterval&&context.startTime+waitInterval<(new Date).getTime(),noLoads=[],reqCalls=[],stillLoading=!1,needCycleCheck=!0;if(!inCheckLoaded){if(inCheckLoaded=!0,eachProp(registry,function(mod){if(map=mod.map,modId=map.id,mod.enabled&&(map.isDefine||reqCalls.push(mod),!mod.error))if(!mod.inited&&expired)hasPathFallback(modId)?(usingPathFallback=!0,stillLoading=!0):(noLoads.push(modId),removeScript(modId));else if(!mod.inited&&mod.fetched&&map.isDefine&&(stillLoading=!0,!map.prefix))return needCycleCheck=!1}),expired&&noLoads.length)return err=makeError("timeout","Load timeout for modules: "+noLoads,null,noLoads),err.contextName=context.contextName,onError(err);needCycleCheck&&each(reqCalls,function(mod){breakCycle(mod,{},{})}),expired&&!usingPathFallback||!stillLoading||!isBrowser&&!isWebWorker||checkLoadedTimeoutId||(checkLoadedTimeoutId=setTimeout(function(){checkLoadedTimeoutId=0,checkLoaded()},50)),inCheckLoaded=!1}}function callGetModule(args){hasProp(defined,args[0])||getModule(makeModuleMap(args[0],null,!0)).init(args[1],args[2])}function removeListener(node,func,name,ieName){node.detachEvent&&!isOpera?ieName&&node.detachEvent(ieName,func):node.removeEventListener(name,func,!1)}function getScriptData(evt){var node=evt.currentTarget||evt.srcElement;return removeListener(node,context.onScriptLoad,"load","onreadystatechange"),removeListener(node,context.onScriptError,"error"),{node:node,id:node&&node.getAttribute("data-requiremodule")}}function intakeDefines(){var args;for(takeGlobalQueue();defQueue.length;){if(args=defQueue.shift(),null===args[0])return onError(makeError("mismatch","Mismatched anonymous define() module: "+args[args.length-1]));callGetModule(args)}}var inCheckLoaded,Module,context,handlers,checkLoadedTimeoutId,config={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},map:{},config:{}},registry={},undefEvents={},defQueue=[],defined={},urlFetched={},requireCounter=1,unnormalizedCounter=1;return handlers={require:function(mod){return mod.require?mod.require:mod.require=context.makeRequire(mod.map)},exports:function(mod){if(mod.usingExports=!0,mod.map.isDefine)return mod.exports?mod.exports:mod.exports=defined[mod.map.id]={}},module:function(mod){return mod.module?mod.module:mod.module={id:mod.map.id,uri:mod.map.url,config:function(){return config.config&&getOwn(config.config,mod.map.id)||{}},exports:defined[mod.map.id]}}},Module=function(map){this.events=getOwn(undefEvents,map.id)||{},this.map=map,this.shim=getOwn(config.shim,map.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},Module.prototype={init:function(depMaps,factory,errback,options){options=options||{},this.inited||(this.factory=factory,errback?this.on("error",errback):this.events.error&&(errback=bind(this,function(err){this.emit("error",err)})),this.depMaps=depMaps&&depMaps.slice(0),this.errback=errback,this.inited=!0,this.ignore=options.ignore,options.enabled||this.enabled?this.enable():this.check())},defineDep:function(i,depExports){this.depMatched[i]||(this.depMatched[i]=!0,this.depCount-=1,this.depExports[i]=depExports)},fetch:function(){if(!this.fetched){this.fetched=!0,context.startTime=(new Date).getTime();var map=this.map;return this.shim?void context.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return map.prefix?this.callPlugin():this.load()})):map.prefix?this.callPlugin():this.load()}},load:function(){var url=this.map.url;urlFetched[url]||(urlFetched[url]=!0,context.load(this.map.id,url))},check:function(){if(this.enabled&&!this.enabling){var err,cjsModule,id=this.map.id,depExports=this.depExports,exports=this.exports,factory=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(factory)){if(this.events.error)try{exports=context.execCb(id,factory,depExports,exports)}catch(e){err=e}else exports=context.execCb(id,factory,depExports,exports);if(this.map.isDefine&&(cjsModule=this.module,cjsModule&&void 0!==cjsModule.exports&&cjsModule.exports!==this.exports?exports=cjsModule.exports:void 0===exports&&this.usingExports&&(exports=this.exports)),err)return err.requireMap=this.map,err.requireModules=[this.map.id],err.requireType="define",onError(this.error=err)}else exports=factory;this.exports=exports,this.map.isDefine&&!this.ignore&&(defined[id]=exports,req.onResourceLoad&&req.onResourceLoad(context,this.map,this.depMaps)),delete registry[id],this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var map=this.map,id=map.id,pluginMap=makeModuleMap(map.prefix);this.depMaps.push(pluginMap),on(pluginMap,"defined",bind(this,function(plugin){var load,normalizedMap,normalizedMod,name=this.map.name,parentName=this.map.parentMap?this.map.parentMap.name:null,localRequire=context.makeRequire(map.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(plugin.normalize&&(name=plugin.normalize(name,function(name){return normalize(name,parentName,!0)})||""),normalizedMap=makeModuleMap(map.prefix+"!"+name,this.map.parentMap),on(normalizedMap,"defined",bind(this,function(value){this.init([],function(){return value},null,{enabled:!0,ignore:!0})})),normalizedMod=getOwn(registry,normalizedMap.id),void(normalizedMod&&(this.depMaps.push(normalizedMap),this.events.error&&normalizedMod.on("error",bind(this,function(err){this.emit("error",err)})),normalizedMod.enable()))):(load=bind(this,function(value){this.init([],function(){return value},null,{enabled:!0})}),load.error=bind(this,function(err){this.inited=!0,this.error=err,err.requireModules=[id],eachProp(registry,function(mod){0===mod.map.id.indexOf(id+"_unnormalized")&&cleanRegistry(mod.map.id)}),onError(err)}),load.fromText=bind(this,function(text,textAlt){var moduleName=map.name,moduleMap=makeModuleMap(moduleName),hasInteractive=useInteractive;textAlt&&(text=textAlt),hasInteractive&&(useInteractive=!1),getModule(moduleMap),hasProp(config.config,id)&&(config.config[moduleName]=config.config[id]);try{req.exec(text)}catch(e){return onError(makeError("fromtexteval","fromText eval for "+id+" failed: "+e,e,[id]))}hasInteractive&&(useInteractive=!0),this.depMaps.push(moduleMap),context.completeLoad(moduleName),localRequire([moduleName],load)}),void plugin.load(map.name,localRequire,load,config))})),context.enable(pluginMap,this),this.pluginMaps[pluginMap.id]=pluginMap},enable:function(){this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(depMap,i){var id,mod,handler;if("string"==typeof depMap){if(depMap=makeModuleMap(depMap,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[i]=depMap,handler=getOwn(handlers,depMap.id))return void(this.depExports[i]=handler(this));this.depCount+=1,on(depMap,"defined",bind(this,function(depExports){this.defineDep(i,depExports),this.check()})),this.errback&&on(depMap,"error",this.errback)}id=depMap.id,mod=registry[id],hasProp(handlers,id)||!mod||mod.enabled||context.enable(depMap,this)})),eachProp(this.pluginMaps,bind(this,function(pluginMap){var mod=getOwn(registry,pluginMap.id);mod&&!mod.enabled&&context.enable(pluginMap,this)})),this.enabling=!1,this.check()},on:function(name,cb){var cbs=this.events[name];cbs||(cbs=this.events[name]=[]),cbs.push(cb)},emit:function(name,evt){each(this.events[name],function(cb){cb(evt)}),"error"===name&&delete this.events[name]}},context={config:config,contextName:contextName,registry:registry,defined:defined,urlFetched:urlFetched,defQueue:defQueue,Module:Module,makeModuleMap:makeModuleMap,nextTick:req.nextTick,configure:function(cfg){cfg.baseUrl&&"/"!==cfg.baseUrl.charAt(cfg.baseUrl.length-1)&&(cfg.baseUrl+="/");var pkgs=config.pkgs,shim=config.shim,objs={paths:!0,config:!0,map:!0};eachProp(cfg,function(value,prop){objs[prop]?"map"===prop?mixin(config[prop],value,!0,!0):mixin(config[prop],value,!0):config[prop]=value}),cfg.shim&&(eachProp(cfg.shim,function(value,id){isArray(value)&&(value={deps:value}),!value.exports&&!value.init||value.exportsFn||(value.exportsFn=context.makeShimExports(value)),shim[id]=value}),config.shim=shim),cfg.packages&&(each(cfg.packages,function(pkgObj){var location;pkgObj="string"==typeof pkgObj?{name:pkgObj}:pkgObj,location=pkgObj.location,pkgs[pkgObj.name]={name:pkgObj.name,location:location||pkgObj.name,main:(pkgObj.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}}),config.pkgs=pkgs),eachProp(registry,function(mod,id){mod.inited||mod.map.unnormalized||(mod.map=makeModuleMap(id))}),(cfg.deps||cfg.callback)&&context.require(cfg.deps||[],cfg.callback)},makeShimExports:function(value){function fn(){var ret;return value.init&&(ret=value.init.apply(global,arguments)),ret||value.exports&&getGlobal(value.exports)}return fn},makeRequire:function(relMap,options){function localRequire(deps,callback,errback){var id,map,requireMod;return options.enableBuildCallback&&callback&&isFunction(callback)&&(callback.__requireJsBuild=!0),"string"==typeof deps?isFunction(callback)?onError(makeError("requireargs","Invalid require call"),errback):relMap&&hasProp(handlers,deps)?handlers[deps](registry[relMap.id]):req.get?req.get(context,deps,relMap):(map=makeModuleMap(deps,relMap,!1,!0),id=map.id,hasProp(defined,id)?defined[id]:onError(makeError("notloaded",'Module name "'+id+'" has not been loaded yet for context: '+contextName+(relMap?"":". Use require([])")))):(intakeDefines(),context.nextTick(function(){intakeDefines(),requireMod=getModule(makeModuleMap(null,relMap)),requireMod.skipMap=options.skipMap,requireMod.init(deps,callback,errback,{enabled:!0}),checkLoaded()}),localRequire)}return options=options||{},mixin(localRequire,{isBrowser:isBrowser,toUrl:function(moduleNamePlusExt){var ext,url,index=moduleNamePlusExt.lastIndexOf("."),segment=moduleNamePlusExt.split("/")[0],isRelative="."===segment||".."===segment;return index!==-1&&(!isRelative||index>1)&&(ext=moduleNamePlusExt.substring(index,moduleNamePlusExt.length),moduleNamePlusExt=moduleNamePlusExt.substring(0,index)),url=context.nameToUrl(normalize(moduleNamePlusExt,relMap&&relMap.id,!0),ext||".fake"),ext?url:url.substring(0,url.length-5)},defined:function(id){return hasProp(defined,makeModuleMap(id,relMap,!1,!0).id)},specified:function(id){return id=makeModuleMap(id,relMap,!1,!0).id,hasProp(defined,id)||hasProp(registry,id)}}),relMap||(localRequire.undef=function(id){takeGlobalQueue();var map=makeModuleMap(id,relMap,!0),mod=getOwn(registry,id);delete defined[id],delete urlFetched[map.url],delete undefEvents[id],mod&&(mod.events.defined&&(undefEvents[id]=mod.events),cleanRegistry(id))}),localRequire},enable:function(depMap){var mod=getOwn(registry,depMap.id);mod&&getModule(depMap).enable()},completeLoad:function(moduleName){var found,args,mod,shim=getOwn(config.shim,moduleName)||{},shExports=shim.exports;for(takeGlobalQueue();defQueue.length;){if(args=defQueue.shift(),null===args[0]){if(args[0]=moduleName,found)break;found=!0}else args[0]===moduleName&&(found=!0);callGetModule(args)}if(mod=getOwn(registry,moduleName),!found&&!hasProp(defined,moduleName)&&mod&&!mod.inited){if(!(!config.enforceDefine||shExports&&getGlobal(shExports)))return hasPathFallback(moduleName)?void 0:onError(makeError("nodefine","No define call for "+moduleName,null,[moduleName]));callGetModule([moduleName,shim.deps||[],shim.exportsFn])}checkLoaded()},nameToUrl:function(moduleName,ext){var paths,pkgs,pkg,pkgPath,syms,i,parentModule,url,parentPath;if(req.jsExtRegExp.test(moduleName))url=moduleName+(ext||"");else{for(paths=config.paths,pkgs=config.pkgs,syms=moduleName.split("/"),i=syms.length;i>0;i-=1){if(parentModule=syms.slice(0,i).join("/"),pkg=getOwn(pkgs,parentModule),parentPath=getOwn(paths,parentModule)){isArray(parentPath)&&(parentPath=parentPath[0]),syms.splice(0,i,parentPath);break}if(pkg){pkgPath=moduleName===pkg.name?pkg.location+"/"+pkg.main:pkg.location,syms.splice(0,i,pkgPath);break}}url=syms.join("/"),url+=ext||(/\?/.test(url)?"":".js"),url=("/"===url.charAt(0)||url.match(/^[\w\+\.\-]+:/)?"":config.baseUrl)+url}return config.urlArgs?url+((url.indexOf("?")===-1?"?":"&")+config.urlArgs):url},load:function(id,url){req.load(context,id,url)},execCb:function(name,callback,args,exports){return callback.apply(exports,args)},onScriptLoad:function(evt){if("load"===evt.type||readyRegExp.test((evt.currentTarget||evt.srcElement).readyState)){interactiveScript=null;var data=getScriptData(evt);context.completeLoad(data.id)}},onScriptError:function(evt){var data=getScriptData(evt);if(!hasPathFallback(data.id))return onError(makeError("scripterror","Script error",evt,[data.id]))}},context.require=context.makeRequire(),context}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(script){if("interactive"===script.readyState)return interactiveScript=script}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.4",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||!navigator||!document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(deps,callback,errback,optional){var context,config,contextName=defContextName;return isArray(deps)||"string"==typeof deps||(config=deps,isArray(callback)?(deps=callback,callback=errback,errback=optional):deps=[]),config&&config.context&&(contextName=config.context),context=getOwn(contexts,contextName),context||(context=contexts[contextName]=req.s.newContext(contextName)),config&&context.configure(config),context.require(deps,callback,errback)},req.config=function(config){return req(config)},req.nextTick="undefined"!=typeof setTimeout?function(fn){setTimeout(fn,4)}:function(fn){fn()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(prop){req[prop]=function(){var ctx=contexts[defContextName];return ctx.require[prop].apply(ctx,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=function(err){throw err},req.load=function(context,moduleName,url){var node,config=context&&context.config||{};return isBrowser?(node=config.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),node.type=config.scriptType||"text/javascript",node.charset="utf-8",node.async=!0,node.setAttribute("data-requirecontext",context.contextName),node.setAttribute("data-requiremodule",moduleName),!node.attachEvent||node.attachEvent.toString&&node.attachEvent.toString().indexOf("[native code")<0||isOpera?(node.addEventListener("load",context.onScriptLoad,!1),node.addEventListener("error",context.onScriptError,!1)):(useInteractive=!0,node.attachEvent("onreadystatechange",context.onScriptLoad)),node.src=url,currentlyAddingScript=node,baseElement?head.insertBefore(node,baseElement):head.appendChild(node),currentlyAddingScript=null,node):void(isWebWorker&&(importScripts(url),context.completeLoad(moduleName)))},isBrowser&&eachReverse(scripts(),function(script){if(head||(head=script.parentNode),dataMain=script.getAttribute("data-main"))return cfg.baseUrl||(src=dataMain.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath,dataMain=mainScript),dataMain=dataMain.replace(jsSuffixRegExp,""),cfg.deps=cfg.deps?cfg.deps.concat(dataMain):[dataMain],!0}),define=function(name,deps,callback){var node,context;"string"!=typeof name&&(callback=deps,deps=name,name=null),isArray(deps)||(callback=deps,deps=[]),!deps.length&&isFunction(callback)&&callback.length&&(callback.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(match,dep){deps.push(dep)}),deps=(1===callback.length?["require"]:["require","exports","module"]).concat(deps)),useInteractive&&(node=currentlyAddingScript||getInteractiveScript(),node&&(name||(name=node.getAttribute("data-requiremodule")),context=contexts[node.getAttribute("data-requirecontext")])),(context?context.defQueue:globalDefQueue).push([name,deps,callback])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),function(){"use strict";function c(a){var g,f=d;a:{g=f.className.split(/\s+/);for(var n=0,H=g.length;n<H;n+=1)if(g[n]===a){g=!0;break a}g=!1}g||(f.className+=(""===f.className?"":" ")+a)}function e(a,f,g){this.b=null!=a?a:null,this.c=null!=f?f:null,this.g=null!=g?g:null}function k(a,f){return 0===a.compare(f)||1===a.compare(f)}function l(){var a=h.exec(m[1]),f=null,g=null,n=null;return a&&(null!==a[1]&&a[1]&&(f=parseInt(a[1],10)),null!==a[2]&&a[2]&&(g=parseInt(a[2],10)),null!==a[3]&&a[3]&&(n=parseInt(a[3],10))),new e(f,g,n)}function p(){var a=q;return 3===a.a||7===a.a||6===a.a||9===a.a||8===a.a||5===a.a?"grayscale":1===a.a&&k(a.d,new e(6,2))&&1===a.e?"grayscale":"unknown"}var b=window,h=/^([0-9]+)(?:[\._-]([0-9]+))?(?:[\._-]([0-9]+))?(?:[\._+-]?(.*))?$/;e.prototype.compare=function(a){return this.b>a.b||this.b===a.b&&this.c>a.c||this.b===a.b&&this.c===a.c&&this.g>a.g?1:this.b<a.b||this.b===a.b&&this.c<a.c||this.b===a.b&&this.c===a.c&&this.g<a.g?-1:0};var q,r=b.navigator.userAgent,s=0,t=new e,u=0,v=new e,m=null;(m=/(?:iPod|iPad|iPhone).*? OS ([\d_]+)/.exec(r))?(u=3,v=l()):(m=/(?:BB\d{2}|BlackBerry).*?Version\/([^\s]*)/.exec(r))?(u=9,v=l()):(m=/Android ([^;)]+)|Android/.exec(r))?(u=5,v=l()):(m=/Windows Phone(?: OS)? ([^;)]+)/.exec(r))?(u=8,v=l()):(m=/Linux ([^;)]+)|Linux/.exec(r))?(u=4,v=l()):(m=/OS X ([^;)]+)/.exec(r))?(u=2,v=l()):(m=/Windows NT ([^;)]+)/.exec(r))?(u=1,v=l()):(m=/CrOS ([^;)]+)/.exec(r))&&(u=6,v=l()),(m=/MSIE ([\d\w\.]+)/.exec(r))?(s=1,t=l()):(m=/Trident.*rv:([\d\w\.]+)/.exec(r))?(s=1,t=l()):(m=/OPR\/([\d.]+)/.exec(r))?(s=4,t=l()):(m=/Opera Mini.*Version\/([\d\.]+)/.exec(r))?(s=4,t=l()):(m=/Opera(?: |.*Version\/|\/)([\d\.]+)/.exec(r))?(s=4,t=l()):(m=/Firefox\/([\d\w\.]+)|Firefox/.exec(r))?(s=3,t=l()):(m=/(?:Chrome|CrMo|CriOS)\/([\d\.]+)/.exec(r))?(s=2,t=l()):(m=/Silk\/([\d\._]+)/.exec(r))?(s=7,t=l()):5===u||9===u?s=6:(m=/Version\/([\d\.\w]+).*Safari/.exec(r))&&(s=5,t=l()),q=new function(a,f,g,n){this.e=a,this.f=f,this.a=g,this.d=n}(s,t,u,v);var w,x;if(1===q.a){var y;if(2===q.e)y=k(q.f,new e(37))&&k(q.d,new e(6,1))?"directwrite":"gdi";else{var z;if(4===q.e)z=k(q.f,new e(24))&&k(q.d,new e(6,1))?"directwrite":"gdi";else{var A;if(-1===q.d.compare(new e(6,0)))A="gdi";else{var B;if(k(q.d,new e(6,0))){var C;if(C=1===q.e){var D=q.f,E=new e(8,0);C=0===D.compare(E)||-1===D.compare(E)}B=C?"gdi":"directwrite"}else B="unknown";A=B}z=A}y=z}x=y}else x=8===q.a?"directwrite":2===q.a||3===q.a?"coretext":5===q.a||4===q.a||6===q.a||7===q.a||9===q.a?"freetype":"unknown";w=x;var G,F=p(),I=p();G="unknown"!==I?I:2===q.a||4===q.a?"subpixel":1===q.a?k(q.d,new e(6,0))?"subpixel":1===q.e?k(q.f,new e(7,0))?"subpixel":"grayscale":"subpixel":"unknown";var d=b.document.documentElement;c("tr-"+w),"unknown"===F&&"unknown"!==G&&(F+="-"+G),c("tr-aa-"+F)}(),function(window){var BlockAdBlock=function(options){this._options={checkOnLoad:!1,resetOnEnd:!1,loopCheckTime:50,loopMaxNumber:5,baitClass:"pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links",baitStyle:"width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;",debug:!1},this._var={version:"3.2.0",bait:null,checking:!1,loop:null,loopNumber:0,event:{detected:[],notDetected:[]}},void 0!==options&&this.setOption(options);var self=this,eventCallback=function(){setTimeout(function(){self._options.checkOnLoad===!0&&(self._options.debug===!0&&self._log("onload->eventCallback","A check loading is launched"),null===self._var.bait&&self._creatBait(),setTimeout(function(){self.check()},1))},1)};void 0!==window.addEventListener?window.addEventListener("load",eventCallback,!1):window.attachEvent("onload",eventCallback)};BlockAdBlock.prototype._options=null,BlockAdBlock.prototype._var=null,BlockAdBlock.prototype._bait=null,BlockAdBlock.prototype._log=function(method,message){console.log("[BlockAdBlock]["+method+"] "+message)},BlockAdBlock.prototype.setOption=function(options,value){if(void 0!==value){var key=options;options={},options[key]=value}for(var option in options)this._options[option]=options[option],this._options.debug===!0&&this._log("setOption",'The option "'+option+'" he was assigned to "'+options[option]+'"');return this},BlockAdBlock.prototype._creatBait=function(){var bait=document.createElement("div");bait.setAttribute("class",this._options.baitClass),bait.setAttribute("style",this._options.baitStyle),this._var.bait=window.document.body.appendChild(bait),this._var.bait.offsetParent,this._var.bait.offsetHeight,this._var.bait.offsetLeft,this._var.bait.offsetTop,this._var.bait.offsetWidth,this._var.bait.clientHeight,this._var.bait.clientWidth,this._options.debug===!0&&this._log("_creatBait","Bait has been created")},BlockAdBlock.prototype._destroyBait=function(){window.document.body.removeChild(this._var.bait),this._var.bait=null,this._options.debug===!0&&this._log("_destroyBait","Bait has been removed")},BlockAdBlock.prototype.check=function(loop){if(void 0===loop&&(loop=!0),this._options.debug===!0&&this._log("check","An audit was requested "+(loop===!0?"with a":"without")+" loop"),this._var.checking===!0)return this._options.debug===!0&&this._log("check","A check was canceled because there is already an ongoing"),!1;this._var.checking=!0,null===this._var.bait&&this._creatBait();var self=this;return this._var.loopNumber=0,loop===!0&&(this._var.loop=setInterval(function(){self._checkBait(loop)},this._options.loopCheckTime)),setTimeout(function(){self._checkBait(loop)},1),this._options.debug===!0&&this._log("check","A check is in progress ..."),!0},BlockAdBlock.prototype._checkBait=function(loop){var detected=!1;if(null===this._var.bait&&this._creatBait(),null===window.document.body.getAttribute("abp")&&null!==this._var.bait.offsetParent&&0!=this._var.bait.offsetHeight&&0!=this._var.bait.offsetLeft&&0!=this._var.bait.offsetTop&&0!=this._var.bait.offsetWidth&&0!=this._var.bait.clientHeight&&0!=this._var.bait.clientWidth||(detected=!0),void 0!==window.getComputedStyle){var baitTemp=window.getComputedStyle(this._var.bait,null);"none"!=baitTemp.getPropertyValue("display")&&"hidden"!=baitTemp.getPropertyValue("visibility")||(detected=!0)}this._options.debug===!0&&this._log("_checkBait","A check ("+(this._var.loopNumber+1)+"/"+this._options.loopMaxNumber+" ~"+(1+this._var.loopNumber*this._options.loopCheckTime)+"ms) was conducted and detection is "+(detected===!0?"positive":"negative")),loop===!0&&(this._var.loopNumber++,this._var.loopNumber>=this._options.loopMaxNumber&&this._stopLoop()),detected===!0?(this._stopLoop(),this._destroyBait(),this.emitEvent(!0),loop===!0&&(this._var.checking=!1)):null!==this._var.loop&&loop!==!1||(this._destroyBait(),this.emitEvent(!1),loop===!0&&(this._var.checking=!1))},BlockAdBlock.prototype._stopLoop=function(detected){clearInterval(this._var.loop),this._var.loop=null,this._var.loopNumber=0,this._options.debug===!0&&this._log("_stopLoop","A loop has been stopped")},BlockAdBlock.prototype.emitEvent=function(detected){this._options.debug===!0&&this._log("emitEvent","An event with a "+(detected===!0?"positive":"negative")+" detection was called");var fns=this._var.event[detected===!0?"detected":"notDetected"];for(var i in fns)this._options.debug===!0&&this._log("emitEvent","Call function "+(parseInt(i)+1)+"/"+fns.length),fns.hasOwnProperty(i)&&fns[i]();return this._options.resetOnEnd===!0&&this.clearEvent(),this},BlockAdBlock.prototype.clearEvent=function(){this._var.event.detected=[],this._var.event.notDetected=[],this._options.debug===!0&&this._log("clearEvent","The event list has been cleared")},BlockAdBlock.prototype.on=function(detected,fn){return this._var.event[detected===!0?"detected":"notDetected"].push(fn),this._options.debug===!0&&this._log("on",'A type of event "'+(detected===!0?"detected":"notDetected")+'" was added'),this},BlockAdBlock.prototype.onDetected=function(fn){return this.on(!0,fn)},BlockAdBlock.prototype.onNotDetected=function(fn){return this.on(!1,fn)},window.BlockAdBlock=BlockAdBlock,void 0===window.blockAdBlock&&(window.blockAdBlock=new BlockAdBlock({checkOnLoad:!1,resetOnEnd:!0}))}(window),function(){"use strict";function l(a){g.push(a),1==g.length&&f()}function m(){for(;g.length;)g[0](),g.shift()}function n(a){this.a=p,this.b=void 0,this.f=[];var b=this;try{a(function(a){q(b,a)},function(a){r(b,a)})}catch(c){r(b,c)}}function t(a){return new n(function(b,c){c(a)})}function u(a){return new n(function(b){b(a)})}function q(a,b){if(a.a==p){if(b==a)throw new TypeError;var c=!1;try{var d=b&&b.then;if(null!=b&&"object"==typeof b&&"function"==typeof d)return void d.call(b,function(b){c||q(a,b),c=!0},function(b){c||r(a,b),c=!0})}catch(e){return void(c||r(a,e))}a.a=0,a.b=b,v(a)}}function r(a,b){if(a.a==p){if(b==a)throw new TypeError;a.a=1,a.b=b,v(a)}}function v(a){l(function(){if(a.a!=p)for(;a.f.length;){var b=a.f.shift(),c=b[0],d=b[1],e=b[2],b=b[3];try{0==a.a?e("function"==typeof c?c.call(void 0,a.b):a.b):1==a.a&&("function"==typeof d?e(d.call(void 0,a.b)):b(a.b))}catch(h){b(h)}}})}function w(a){return new n(function(b,c){function d(c){return function(d){h[c]=d,e+=1,e==a.length&&b(h)}}var e=0,h=[];0==a.length&&b(h);for(var k=0;k<a.length;k+=1)u(a[k]).c(d(k),c)})}function x(a){return new n(function(b,c){for(var d=0;d<a.length;d+=1)u(a[d]).c(b,c)})}var f,g=[];f=function(){setTimeout(m)};var p=2;n.prototype.g=function(a){return this.c(void 0,a)},n.prototype.c=function(a,b){var c=this;return new n(function(d,e){c.f.push([a,b,d,e]),v(c)})},window.Promise||(window.Promise=n,window.Promise.resolve=u,window.Promise.reject=t,window.Promise.race=x,window.Promise.all=w,window.Promise.prototype.then=n.prototype.c,window.Promise.prototype.catch=n.prototype.g)}(),function(){function l(a,b){document.addEventListener?a.addEventListener("scroll",b,!1):a.attachEvent("scroll",b)}function m(a){document.body?a():document.addEventListener?document.addEventListener("DOMContentLoaded",function c(){document.removeEventListener("DOMContentLoaded",c),a()}):document.attachEvent("onreadystatechange",function k(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",k),a())})}function r(a){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(a)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",
this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function x(a,b){a.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;left:-999px;white-space:nowrap;font:"+b+";"}function y(a){var b=a.a.offsetWidth,c=b+100;return a.f.style.width=c+"px",a.c.scrollLeft=c,a.b.scrollLeft=a.b.scrollWidth+100,a.g!==b&&(a.g=b,!0)}function z(a,b){function c(){var a=k;y(a)&&null!==a.a.parentNode&&b(a.g)}var k=a;l(a.b,c),l(a.c,c),y(a)}function A(a,b){var c=b||{};this.family=a,this.style=c.style||"normal",this.weight=c.weight||"normal",this.stretch=c.stretch||"normal"}function H(){if(null===D){var a=document.createElement("div");try{a.style.font="condensed 100px sans-serif"}catch(b){}D=""!==a.style.font}return D}function I(a,b){return[a.style,a.weight,H()?a.stretch:"","100px",b].join(" ")}var B=null,D=null,E=null;A.prototype.load=function(a,b){var c=this,k=a||"BESbswy",q=0,C=b||3e3,F=(new Date).getTime();return new Promise(function(a,b){if(null===E&&(E=!!document.fonts),E){var J=new Promise(function(a,b){function e(){(new Date).getTime()-F>=C?b():document.fonts.load(I(c,'"'+c.family+'"'),k).then(function(c){1<=c.length?a():setTimeout(e,25)},function(){b()})}e()}),K=new Promise(function(a,c){q=setTimeout(c,C)});Promise.race([K,J]).then(function(){clearTimeout(q),a(c)},function(){b(c)})}else m(function(){function t(){var b;(b=-1!=f&&-1!=g||-1!=f&&-1!=h||-1!=g&&-1!=h)&&((b=f!=g&&f!=h&&g!=h)||(null===B&&(b=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),B=!!b&&(536>parseInt(b[1],10)||536===parseInt(b[1],10)&&11>=parseInt(b[2],10))),b=B&&(f==u&&g==u&&h==u||f==v&&g==v&&h==v||f==w&&g==w&&h==w)),b=!b),b&&(null!==d.parentNode&&d.parentNode.removeChild(d),clearTimeout(q),a(c))}function G(){if((new Date).getTime()-F>=C)null!==d.parentNode&&d.parentNode.removeChild(d),b(c);else{var a=document.hidden;!0!==a&&void 0!==a||(f=e.a.offsetWidth,g=n.a.offsetWidth,h=p.a.offsetWidth,t()),q=setTimeout(G,50)}}var e=new r(k),n=new r(k),p=new r(k),f=-1,g=-1,h=-1,u=-1,v=-1,w=-1,d=document.createElement("div");d.dir="ltr",x(e,I(c,"sans-serif")),x(n,I(c,"serif")),x(p,I(c,"monospace")),d.appendChild(e.a),d.appendChild(n.a),d.appendChild(p.a),document.body.appendChild(d),u=e.a.offsetWidth,v=n.a.offsetWidth,w=p.a.offsetWidth,G(),z(e,function(a){f=a,t()}),x(e,I(c,'"'+c.family+'",sans-serif')),z(n,function(a){g=a,t()}),x(n,I(c,'"'+c.family+'",serif')),z(p,function(a){h=a,t()}),x(p,I(c,'"'+c.family+'",monospace'))})})},"undefined"!=typeof module?module.exports=A:(window.FontFaceObserver=A,window.FontFaceObserver.prototype.load=A.prototype.load)}(),function(){"use strict";var dataElement=document.getElementById("page-config-data"),pageConfig=dataElement?JSON.parse(dataElement.innerHTML).pageconfig:{},ledeMediaSize=pageConfig.ledeMediaSize,pageLayout=Math.random()<.5?"a":"b",html=document.getElementsByTagName("html")[0],articleToneTag=document.getElementById("article-tone"),articleTone=articleToneTag?articleToneTag.getAttribute("content"):"",featureFlags=window.magnum.getFlags(),onlyLayoutA=featureFlags.indexOf("onlyLayoutA")>-1;featureFlags.indexOf("simple")>-1&&document.location.pathname.match(/\/story\//)?html.setAttribute("data-page-layout","a"):("none"!==ledeMediaSize&&"small"!==ledeMediaSize||(pageLayout="a"),"jumbo"===ledeMediaSize&&(pageLayout="b"),"informal"===articleTone&&(pageLayout="a"),onlyLayoutA&&(pageLayout="a"),"none"!==ledeMediaSize&&"small"!==ledeMediaSize&&("large"!==ledeMediaSize&&"jumbo"!==ledeMediaSize||"a"!==pageLayout)||(html.className+=" has-big-ad"),html.setAttribute("data-page-layout",pageLayout)),html.setAttribute("data-lede-media-size",ledeMediaSize),html.setAttribute("data-keywords",pageConfig.keywords)}(),window.magnum.getFlags().indexOf("headlineBalancer")>0&&(window.magnum.headlineBalancer=function(){function rebalanceHeadline(){document.getElementById("headline").style.visibility="hidden",headlineIsMultipleLines()&&balanceHeadline(),document.getElementById("headline").style.visibility="visible"}function balanceHeadline(){var headline=document.getElementById("headline");headline.style.maxWidth="",squeezeContainer(headline,headline.clientHeight,0,headline.clientWidth)}function squeezeContainer(headline,originalHeight,bottomRange,topRange){var mid;return bottomRange>=topRange?void(headline.style.maxWidth=topRange+"px"):(mid=(bottomRange+topRange)/2,headline.style.maxWidth=mid+"px",void(headline.clientHeight>originalHeight?squeezeContainer(headline,originalHeight,mid+1,topRange):squeezeContainer(headline,originalHeight,bottomRange+1,mid)))}function hasTone(tone){return document.documentElement.className.indexOf(tone)>0}function headlineIsMultipleLines(){var firstWordHeight,headlineHeight,HEIGHT_OFFSET,headlineWords,firstWord,headline,ORIGINAL_HEADLINE_TEXT;return headline=document.getElementById("headline"),ORIGINAL_HEADLINE_TEXT=headline.innerHTML,HEIGHT_OFFSET=10,headlineWords=headline.innerHTML.split(" "),firstWord=document.createElement("span"),firstWord.id="headline-first-word",firstWord.innerHTML=headlineWords[0],headlineWords=headlineWords.slice(1),headline.innerHTML="",headline.appendChild(firstWord),headline.innerHTML+=" "+headlineWords.join(" "),firstWord=document.getElementById("headline-first-word"),firstWordHeight=firstWord.offsetHeight,headlineHeight=headline.offsetHeight,headline.innerHTML=ORIGINAL_HEADLINE_TEXT,headlineHeight-HEIGHT_OFFSET>firstWordHeight}function sectionIsOnWhitelist(){var topLevelSectionMetaTag;return window.magnum.getFlags().indexOf("headlineBalancerEverywhere")>0||(topLevelSectionMetaTag=document.querySelector('meta[property="article:top-level-section"]'),!(!topLevelSectionMetaTag||"world"!==topLevelSectionMetaTag.getAttribute("content"))||(hasTone("section-us")||hasTone("section-politics")||hasTone("section-world")))}function isVanillaArticle(){var i,storyClasses=document.getElementById("story").className,articlePageType=document.querySelector('meta[name="PT"]'),fullBleedTypes=["has-headline-image-topper","has-vertical-full-bleed","has-full-bleed-image-lede","has-full-bleed-cover"];if(articlePageType&&"oak"===articlePageType.getAttribute("content"))return!1;for(i=0;i<fullBleedTypes.length;i+=1)if(storyClasses&&storyClasses.indexOf(fullBleedTypes[i])>0)return!1;return!0}function shouldRun(){return sectionIsOnWhitelist()&&isVanillaArticle()}var TYPE,headlineTypes={news:{fontName:"nyt-cheltenham",fontStyle:"italic",fontWeight:700},opinion:{fontName:"nyt-cheltenham",fontStyle:"normal",fontWeight:500},feature:{fontName:"nyt-cheltenham",fontStyle:"normal",fontWeight:200},magazine:{fontName:"nyt-mag-slab",fontStyle:"normal",fontWeight:"bold"},tMagFeature:{fontName:"schnyder-scond-normal-600",fontStyle:"normal",fontWeight:600},tMagNews:{fontName:"graphik-xcond-normal-600",fontStyle:"normal",fontWeight:600},upshot:{fontName:"nyt-franklin",fontStyle:"normal",fontWeight:300},informal:{fontName:"nyt-cheltenham",fontStyle:"normal",fontWeight:700}},initialize=function(){var headlineType,font;document.getElementById("headline").style.visibility="hidden",TYPE=hasTone("section-magazine")?"magazine":hasTone("section-upshot")?"upshot":hasTone("section-t-magazine")&&hasTone("tone-feature")?"tMagFeature":hasTone("section-t-magazine")&&hasTone("tone-news")?"tMagNews":hasTone("tone-news")?"news":hasTone("tone-opinion")?"opinion":hasTone("tone-feature")?"feature":"news",headlineType=headlineTypes[TYPE],font=new window.FontFaceObserver(headlineType.fontName,{style:headlineType.fontStyle,weight:headlineType.fontWeight}),font.load().then(function(){headlineIsMultipleLines()&&balanceHeadline(),document.getElementById("headline").style.visibility="visible"},function(){document.getElementById("headline").style.visibility="visible"})};return{initialize:initialize,rebalanceHeadline:rebalanceHeadline,shouldRun:shouldRun}}()),!function(a,b){var c=b(a,a.document);a.lazySizes=c,"object"==typeof module&&module.exports&&(module.exports=c)}(window,function(a,b){"use strict";if(b.getElementsByClassName){var c,d=b.documentElement,e=a.Date,f=a.HTMLPictureElement,g="addEventListener",h="getAttribute",i=a[g],j=a.setTimeout,k=a.requestAnimationFrame||j,l=a.requestIdleCallback,m=/^picture$/i,n=["load","error","lazyincluded","_lazyloaded"],o={},p=Array.prototype.forEach,q=function(a,b){return o[b]||(o[b]=new RegExp("(\\s|^)"+b+"(\\s|$)")),o[b].test(a[h]("class")||"")&&o[b]},r=function(a,b){q(a,b)||a.setAttribute("class",(a[h]("class")||"").trim()+" "+b)},s=function(a,b){var c;(c=q(a,b))&&a.setAttribute("class",(a[h]("class")||"").replace(c," "))},t=function(a,b,c){var d=c?g:"removeEventListener";c&&t(a,b),n.forEach(function(c){a[d](c,b)})},u=function(a,c,d,e,f){var g=b.createEvent("CustomEvent");return g.initCustomEvent(c,!e,!f,d||{}),a.dispatchEvent(g),g},v=function(b,d){var e;!f&&(e=a.picturefill||c.pf)?e({reevaluate:!0,elements:[b]}):d&&d.src&&(b.src=d.src)},w=function(a,b){return(getComputedStyle(a,null)||{})[b]},x=function(a,b,d){for(d=d||a.offsetWidth;d<c.minSize&&b&&!a._lazysizesWidth;)d=b.offsetWidth,b=b.parentNode;return d},y=function(){var a,c,d=[],e=function(){var b;for(a=!0,c=!1;d.length;)b=d.shift(),b[0].apply(b[1],b[2]);a=!1};return function(f){a?f.apply(this,arguments):(d.push([f,this,arguments]),c||(c=!0,(b.hidden?j:k)(e)))}}(),z=function(a,b){return b?function(){y(a)}:function(){var b=this,c=arguments;y(function(){a.apply(b,c)})}},A=function(a){var b,c=0,d=125,f=666,g=f,h=function(){b=!1,c=e.now(),a()},i=l?function(){l(h,{timeout:g}),g!==f&&(g=f)}:z(function(){j(h)},!0);return function(a){var f;(a=a===!0)&&(g=44),b||(b=!0,f=d-(e.now()-c),0>f&&(f=0),a||9>f&&l?i():j(i,f))}},B=function(a){var b,c,d=99,f=function(){b=null,a()},g=function(){var a=e.now()-c;d>a?j(g,d-a):(l||f)(f)};return function(){c=e.now(),b||(b=j(g,d))}},C=function(){var f,k,l,n,o,x,C,E,F,G,H,I,J,K,L,M=/^img$/i,N=/^iframe$/i,O="onscroll"in a&&!/glebot/.test(navigator.userAgent),P=0,Q=0,R=0,S=-1,T=function(a){R--,a&&a.target&&t(a.target,T),(!a||0>R||!a.target)&&(R=0)},U=function(a,c){var e,f=a,g="hidden"==w(b.body,"visibility")||"hidden"!=w(a,"visibility");for(F-=c,I+=c,G-=c,H+=c;g&&(f=f.offsetParent)&&f!=b.body&&f!=d;)g=(w(f,"opacity")||1)>0,g&&"visible"!=w(f,"overflow")&&(e=f.getBoundingClientRect(),g=H>e.left&&G<e.right&&I>e.top-1&&F<e.bottom+1);return g},V=function(){var a,e,g,i,j,m,n,p,q;if((o=c.loadMode)&&8>R&&(a=f.length)){e=0,S++,null==K&&("expand"in c||(c.expand=d.clientHeight>500&&d.clientWidth>500?500:370),J=c.expand,K=J*c.expFactor),K>Q&&1>R&&S>2&&o>2&&!b.hidden?(Q=K,S=0):Q=o>1&&S>1&&6>R?J:P;for(;a>e;e++)if(f[e]&&!f[e]._lazyRace)if(O)if((p=f[e][h]("data-expand"))&&(m=1*p)||(m=Q),q!==m&&(C=innerWidth+m*L,E=innerHeight+m,n=-1*m,q=m),g=f[e].getBoundingClientRect(),(I=g.bottom)>=n&&(F=g.top)<=E&&(H=g.right)>=n*L&&(G=g.left)<=C&&(I||H||G||F)&&(l&&3>R&&!p&&(3>o||4>S)||U(f[e],m))){if(ba(f[e]),j=!0,R>9)break}else!j&&l&&!i&&4>R&&4>S&&o>2&&(k[0]||c.preloadAfterLoad)&&(k[0]||!p&&(I||H||G||F||"auto"!=f[e][h](c.sizesAttr)))&&(i=k[0]||f[e]);else ba(f[e]);i&&!j&&ba(i)}},W=A(V),X=function(a){r(a.target,c.loadedClass),s(a.target,c.loadingClass),t(a.target,Z)},Y=z(X),Z=function(a){Y({target:a.target})},$=function(a,b){try{a.contentWindow.location.replace(b)}catch(c){a.src=b}},_=function(a){var b,d,e=a[h](c.srcsetAttr);(b=c.customMedia[a[h]("data-media")||a[h]("media")])&&a.setAttribute("media",b),e&&a.setAttribute("srcset",e),b&&(d=a.parentNode,d.insertBefore(a.cloneNode(),a),d.removeChild(a))},aa=z(function(a,b,d,e,f){var g,i,k,l,o,q;(o=u(a,"lazybeforeunveil",b)).defaultPrevented||(e&&(d?r(a,c.autosizesClass):a.setAttribute("sizes",e)),i=a[h](c.srcsetAttr),g=a[h](c.srcAttr),f&&(k=a.parentNode,l=k&&m.test(k.nodeName||"")),q=b.firesLoad||"src"in a&&(i||g||l),o={target:a},q&&(t(a,T,!0),clearTimeout(n),n=j(T,2500),r(a,c.loadingClass),t(a,Z,!0)),l&&p.call(k.getElementsByTagName("source"),_),i?a.setAttribute("srcset",i):g&&!l&&(N.test(a.nodeName)?$(a,g):a.src=g),(i||l)&&v(a,{src:g})),y(function(){a._lazyRace&&delete a._lazyRace,s(a,c.lazyClass),(!q||a.complete)&&(q?T(o):R--,X(o))})}),ba=function(a){var b,d=M.test(a.nodeName),e=d&&(a[h](c.sizesAttr)||a[h]("sizes")),f="auto"==e;(!f&&l||!d||!a.src&&!a.srcset||a.complete||q(a,c.errorClass))&&(b=u(a,"lazyunveilread").detail,f&&D.updateElem(a,!0,a.offsetWidth),a._lazyRace=!0,R++,aa(a,b,f,e,d))},ca=function(){if(!l){if(e.now()-x<999)return void j(ca,999);var a=B(function(){c.loadMode=3,W()});l=!0,c.loadMode=3,W(),i("scroll",function(){3==c.loadMode&&(c.loadMode=2),a()},!0)}};return{_:function(){x=e.now(),f=b.getElementsByClassName(c.lazyClass),k=b.getElementsByClassName(c.lazyClass+" "+c.preloadClass),L=c.hFac,i("scroll",W,!0),i("resize",W,!0),a.MutationObserver?new MutationObserver(W).observe(d,{childList:!0,subtree:!0,attributes:!0}):(d[g]("DOMNodeInserted",W,!0),d[g]("DOMAttrModified",W,!0),setInterval(W,999)),i("hashchange",W,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(a){b[g](a,W,!0)}),/d$|^c/.test(b.readyState)?ca():(i("load",ca),b[g]("DOMContentLoaded",W),j(ca,2e4)),f.length?V():W()},checkElems:W,unveil:ba}}(),D=function(){var a,d=z(function(a,b,c,d){var e,f,g;if(a._lazysizesWidth=d,d+="px",a.setAttribute("sizes",d),m.test(b.nodeName||""))for(e=b.getElementsByTagName("source"),f=0,g=e.length;g>f;f++)e[f].setAttribute("sizes",d);c.detail.dataAttr||v(a,c.detail)}),e=function(a,b,c){var e,f=a.parentNode;f&&(c=x(a,f,c),e=u(a,"lazybeforesizes",{width:c,dataAttr:!!b}),e.defaultPrevented||(c=e.detail.width,c&&c!==a._lazysizesWidth&&d(a,f,e,c)))},f=function(){var b,c=a.length;if(c)for(b=0;c>b;b++)e(a[b])},g=B(f);return{_:function(){a=b.getElementsByClassName(c.autosizesClass),i("resize",g)},checkElems:g,updateElem:e}}(),E=function(){E.i||(E.i=!0,D._(),C._())};return function(){var b,d={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2};c=a.lazySizesConfig||a.lazysizesConfig||{};for(b in d)b in c||(c[b]=d[b]);a.lazySizesConfig=c,j(function(){c.init&&E()})}(),{cfg:c,autoSizer:D,loader:C,init:E,uP:v,aC:r,rC:s,hC:q,fire:u,gW:x,rAF:y}}});